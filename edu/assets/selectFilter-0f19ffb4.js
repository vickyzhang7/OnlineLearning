import{r as h,v as H,o as z,c as w,x as Z,y as O,h as e,f as l,g as t,d as a,e as v,F as C,z as k,q as u,i as G,j as g,t as L,A as J,k as N,B as R,C as D,D as X,G as Y,H as E}from"./index-c8b812c2.js";import{_ as ee}from"./LeftTopic-8c86a7df.js";import{_ as te}from"./_plugin-vue_export-helper-c27b6911.js";const le="/assets/position-9a305773.svg",oe="/assets/grade-cd662436.svg",se="/assets/volume-ad3e5f7d.svg",ne="/assets/subject-056a070e.svg",ae="/assets/version-21a63c9f.svg",ie="/assets/addButton-e6b62d34.svg",de="/assets/addLargeButton-ef7f2ee9.svg",ue="/assets/beforeSwitch-e17756fd.svg",re="/assets/switch-6bf66cb9.svg",ce="/assets/lockbag-59256813.svg";const ve={style:{"padding-top":"1vh","padding-bottom":"1vh",display:"flex","align-items":"center","line-height":"1.1vh","font-size":"0.9vw"}},_e=e("div",{style:{"font-weight":"600","margin-left":"0.2vw"}},"基础筛选",-1),ge={__name:"RightTopTopic",setup(y,{emit:d}){const r=d,n=h({question:"",difficulty:"",time:"",scope:""}),b=h({questionType:""}),x={questionType:[{required:!0,message:"请选择题目具体类型",trigger:"change"}]},$=h([]),B=h(),T={question:[{required:!0,message:"请选择题目类型",trigger:"change"}],difficulty:[{required:!0,message:"请选择难度",trigger:"change"}],time:[{required:!0,message:"请选择完成时间",trigger:"change"}],scope:[{required:!0,message:"请选择考核范围",trigger:"change"}]},I=H(),q=async()=>{await B.value.validate(),I.getChecked(n.value.question,b.value.questionType,n.value.difficulty,n.value.time.split(",").map(o=>+o),n.value.scope)},p=async()=>{const o=await O("range");$.value=o.data.data},V=()=>{r("hiddenEvent")};return z(()=>{p(),I.initSubject()}),(o,m)=>{const F=w("CaretLeft"),_=w("el-icon"),f=w("el-radio"),S=w("el-radio-group"),A=w("el-form"),U=w("el-popover"),i=w("el-form-item");return Z(o.$slots,"default",{},()=>[e("div",ve,[e("div",null,[l(_,{onClick:V,style:{"margin-left":"0.42vw"}},{default:t(()=>[l(F)]),_:1})]),_e]),l(A,{model:n.value,rules:T,ref_key:"formRef",ref:B,onChange:q},{default:t(()=>[l(i,{prop:"question",label:"题型类型："},{default:t(()=>[l(S,{modelValue:n.value.question,"onUpdate:modelValue":m[1]||(m[1]=c=>n.value.question=c)},{default:t(()=>[(a(!0),v(C,null,k(u(I).ProblemTypeData,c=>(a(),G(f,{key:c.value,label:c.genre},{default:t(()=>[l(U,{placement:"bottom",trigger:"click",width:"auto","popper-class":"popoverStyle"},{reference:t(()=>[g(L(c.genre),1)]),default:t(()=>[l(A,{model:b.value,rules:x},{default:t(()=>[l(S,{modelValue:b.value.questionType,"onUpdate:modelValue":m[0]||(m[0]=P=>b.value.questionType=P)},{default:t(()=>[(a(!0),v(C,null,k(c.typeNameList,P=>(a(),G(f,{key:P.value,label:P,onChange:q},{default:t(()=>[g(L(P),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue"])]),_:2},1032,["model"])]),_:2},1024)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(i,{prop:"difficulty",label:"难度选择："},{default:t(()=>[l(S,{modelValue:n.value.difficulty,"onUpdate:modelValue":m[2]||(m[2]=c=>n.value.difficulty=c)},{default:t(()=>[l(f,{label:"0"},{default:t(()=>[g("不限")]),_:1}),l(f,{label:"1"},{default:t(()=>[g("容易")]),_:1}),l(f,{label:"2"},{default:t(()=>[g("较易")]),_:1}),l(f,{label:"3"},{default:t(()=>[g("适中")]),_:1}),l(f,{label:"4"},{default:t(()=>[g("较难")]),_:1}),l(f,{label:"5"},{default:t(()=>[g("困难")]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(i,{prop:"time",label:"完成时间："},{default:t(()=>[l(S,{modelValue:n.value.time,"onUpdate:modelValue":m[3]||(m[3]=c=>n.value.time=c)},{default:t(()=>[l(f,{label:"1, 3"},{default:t(()=>[g("1~3分钟")]),_:1}),l(f,{label:"3, 5"},{default:t(()=>[g("3~5分钟")]),_:1}),l(f,{label:"5, 10"},{default:t(()=>[g("5~10分钟")]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(i,{prop:"scope",label:"考核范围："},{default:t(()=>[l(S,{modelValue:n.value.scope,"onUpdate:modelValue":m[4]||(m[4]=c=>n.value.scope=c)},{default:t(()=>[(a(!0),v(C,null,k($.value,c=>(a(),G(f,{key:c.value,label:c.value},{default:t(()=>[g(L(c.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])])}}},pe="/assets/loaddingImg-d826fe6b.svg";function me(y){return{all:y=y||new Map,on:function(d,r){var n=y.get(d);n?n.push(r):y.set(d,[r])},off:function(d,r){var n=y.get(d);n&&(r?n.splice(n.indexOf(r)>>>0,1):y.set(d,[]))},emit:function(d,r){var n=y.get(d);n&&n.slice().map(function(b){b(r)}),(n=y.get("*"))&&n.slice().map(function(b){b(d,r)})}}}const j=me();const fe={style:{"margin-top":"10.7vh","text-align":"center"}},he={key:0,class:"mt-4 searchGen"},be={key:1,class:"loadding-img"},ye=e("img",{src:pe,style:{width:"16.7vw",height:"17vh"}},null,-1),we=e("div",{class:"loadding-content"},[e("p",null,"生成中...")],-1),Ce=[ye,we],ke=e("div",{class:"dialog-content"},[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24ZM12.3197 5C13.0378 5 13.62 5.56281 13.62 6.3003C13.62 7.05719 13.0378 7.62 12.3197 7.62C11.5822 7.62 11 7.05719 11 6.3003C11 5.56281 11.5822 5 12.3197 5ZM11.3215 18.9077V9.45629C11.3215 8.95169 11.7752 8.6994 12.2729 8.6994C12.7527 8.6994 13.2243 8.95169 13.2243 9.45629V18.9077C13.2243 19.4317 12.7527 19.684 12.2729 19.684C11.7752 19.684 11.3215 19.4317 11.3215 18.9077Z",fill:"#6666FF"})]),e("span",null,"生成中")],-1),Ve=e("p",{class:"dialog-p"},"点击右上角符号进行多项业务同步生成同时查看同步生成的所有业务",-1),$e=e("div",{class:"bar"},null,-1),Le={class:"dialog-footer"},xe={__name:"RightUnderTopic",setup(y){const d=H(),r=h(5);let n=h(0);const b=h(),x=h(),$=h(!0),B=()=>{d.isLoading?(d.generateProblemCancel(),window.cancelAnimationFrame(n.value)):(d.isLarge=!0,d.generateClick(x.value),r.value=5,I())},T=()=>{d.isLarge=!1},I=()=>{n.value=window.requestAnimationFrame(function q(){r.value<32?(r.value+=.005,b.value.style.width=r.value+"vw",n.value=requestAnimationFrame(q)):(r.value=32,window.cancelAnimationFrame(n.value))})};return j.on("progress",I()),(q,p)=>{const V=w("el-tag"),o=w("el-button"),m=w("el-input"),F=w("el-dialog");return Z(q.$slots,"default",{},()=>[e("div",fe,[(a(!0),v(C,null,k(u(d).checkedArr,_=>(a(),G(V,{key:_,class:"mx-1 tagStyle",closable:"","disable-transitions":!1,onClose:f=>u(d).handleClose(_),type:"info"},{default:t(()=>[g(L(_),1)]),_:2},1032,["onClose"]))),128)),(a(!0),v(C,null,k(u(d).tagArrTop,_=>(a(),G(V,{key:_,class:"mx-1 tagStyle",closable:"","disable-transitions":!1,onClose:f=>u(d).handleClose1(_),type:"info"},{default:t(()=>[g(L(_),1)]),_:2},1032,["onClose"]))),128))]),$.value?(a(),v("div",he,[l(m,{modelValue:x.value,"onUpdate:modelValue":p[0]||(p[0]=_=>x.value=_),placeholder:"请输入生成题目的关键词",class:"inputGen"},{append:t(()=>[l(o,{class:"buttonSet",onClick:B},{default:t(()=>[g(L(u(d).isLoading?"取消生成":"开始生成"),1)]),_:1}),e("div",{class:J(["loaddingCon",{hiddenf:!u(d).isLoading}])},[e("div",{ref_key:"loaddingBar",ref:b,class:"loadding"},null,512)],2)]),_:1},8,["modelValue"])])):N("",!0),u(d).isLoading?(a(),v("div",be,Ce)):N("",!0),l(F,{modal:!1,modelValue:u(d).dialogVisible,"onUpdate:modelValue":p[3]||(p[3]=_=>u(d).dialogVisible=_),width:"20.8vw","before-close":T,top:"55vh",class:"dialogSet"},{footer:t(()=>[e("span",Le,[l(o,{class:"set-other-btn2",onClick:p[1]||(p[1]=_=>u(d).setDialogVisibleFlase())},{default:t(()=>[g("在当前生成页面等待")]),_:1}),l(o,{class:"set-other-btn1",onClick:p[2]||(p[2]=_=>u(d).setDialogVisibleFlase())},{default:t(()=>[g("同步生成")]),_:1})])]),default:t(()=>[ke,Ve,$e]),_:1},8,["modelValue"])])}}};const K=y=>(X("data-v-785250ee"),y=y(),Y(),y),Se={class:"container"},Pe={class:"innercon"},Te={class:"problem-body"},Ie=K(()=>e("svg",{width:"9",height:"10",viewBox:"0 0 9 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svvg"},[e("circle",{cx:"4.5",cy:"5",r:"4.5",fill:"#BDCEFC"})],-1)),qe={class:"problem-p"},Ge={key:0,class:"subProblem"},Ue={class:"problem-p"},Be={class:"optionsCon"},Fe={key:1,class:"optionsCon"},Re={class:"item-btns"},De={class:"item-btns1"},Ae=K(()=>e("div",{class:"problem-analysis"},[e("div",{class:"split"})],-1)),He={class:"control"},Ee={class:"btns"},je={__name:"ProblemShow",setup(y,{emit:d}){const r=H(),n=["一","二","三","四","五"],b=h(!0),x=h(!1),$=(p,V)=>p+1+"."+V,B=()=>{r.regenerate(),j.emit("progress"),j.emit("tip",b.value)},T=()=>{r.isShow=!r.isShow,r.totalGenerationProblem.splice(currentItem,1),r.currentItem=0,console.log(r.totalGenerationProblem)},I=p=>{r.addUserProblems(p)},q=(p,V)=>{x.value=!0};return(p,V)=>{const o=w("el-button");return a(),v("div",Se,[e("div",Pe,[e("div",Te,[(a(!0),v(C,null,k(u(r).totalGenerationProblem[u(r).currentItem].dataVO,(m,F)=>(a(),v("div",{class:"itemCon",key:m.problemId},[e("span",null,[Ie,g(" 生成结果"+L(n[F]),1)]),e("p",qe,L($(F,m.body)),1),m.subProblemList?(a(),v("div",Ge,[(a(!0),v(C,null,k(m.subProblemList,(_,f)=>(a(),v("div",null,[e("p",Ue,L(_.body),1),e("div",Be,[(a(!0),v(C,null,k(_.options,S=>(a(),v("p",{key:S},L(S),1))),128))])]))),256))])):(a(),v("div",Fe,[(a(!0),v(C,null,k(m.options,_=>(a(),v("p",{key:_},L(_),1))),128))])),e("div",Re,[l(o,{text:"",class:"btn1",onClick:V[0]||(V[0]=_=>q())},{default:t(()=>[g("纠错")]),_:1}),l(o,{text:"",class:"btn2",onClick:_=>I(m.problemId)},{default:t(()=>[g("加入题库")]),_:2},1032,["onClick"])]),R(e("div",De,[l(o,{text:"",class:"btn11"},{default:t(()=>[g("取消")]),_:1}),l(o,{text:"",class:"btn21"},{default:t(()=>[g("确认")]),_:1})],512),[[D,x.value]])]))),128))]),Ae]),e("div",He,[e("div",Ee,[l(o,{round:"",class:"set-other-btn1",onClick:B},{default:t(()=>[g("重新生成")]),_:1}),l(o,{round:"",class:"set-other-btn2",onClick:T},{default:t(()=>[g("取消生成")]),_:1})])])])}}},Me=te(je,[["__scopeId","data-v-785250ee"]]);const Ne={class:"selectAll"},ze={class:"content"},Ze=e("img",{src:le,style:{width:"1.93vw",height:"2.92vh"}},null,-1),Oe={class:"content"},Je=e("img",{src:oe,style:{width:"2.07vw",height:"2.93vh"}},null,-1),Ke={class:"content"},Qe=e("img",{src:se,style:{width:"1.84vw",height:"2.89vh"}},null,-1),We={class:"content"},Xe=e("img",{src:ne,style:{width:"1.92vw",height:"3vh"}},null,-1),Ye={class:"content"},et=e("img",{src:ae,style:{width:"1.92vw",height:"2.79vh"}},null,-1),tt={class:"addButton"},lt=e("img",{src:de,style:{width:"5.2vw",height:"9.2vh"}},null,-1),ot=[lt],st={class:"first-show"},nt={class:"else-show"},at=["onClick"],it={class:"under"},dt={class:"underRight"},ut={class:"underRight2"},rt={style:{"padding-top":"1vh",display:"flex","align-items":"center","line-height":"1.1vh","font-size":"0.9vw"}},ct=e("div",{style:{"font-weight":"600","margin-left":"0.2vw"}},"生成题目",-1),vt=e("img",{src:re,style:{position:"absolute",right:"1vw",top:"1vh"}},null,-1),_t=[vt],gt=e("img",{class:"dragImg",draggable:"true",src:ce,alt:""},null,-1),bt={__name:"selectFilter",setup(y){const d=h(""),r=h(""),n=h(""),b=h(""),x=h(""),$=h(!1),B=["region","subject","textbook"],T=h({}),I=[{value1:1,label1:"一年级"},{value1:2,label1:"二年级"},{value1:3,label1:"三年级"},{value1:4,label1:"四年级"},{value1:5,label1:"五年级"},{value1:6,label1:"六年级"},{value1:7,label1:"初一"},{value1:8,label1:"初二"},{value1:9,label1:"初三"},{value1:10,label1:"高一"},{value1:11,label1:"高二"},{value1:12,label1:"高三"}],q=[{value2:"上册",label2:"上册"},{value2:"下册",label2:"下册"}],p=h(),V=h(),o=H(),m=()=>{B.forEach(async U=>{const i=await O(U);T.value[U]=i.data.data})},F=()=>{p.value.style.width=0,p.value.style.margin=0,p.value.style.overflow="hidden"},_=()=>{V.value.style.height=0,V.value.style.overflow="hidden"},f=()=>{$.value=!$.value},S=U=>{U?(o.isLoading&&(o.isLoading=!1),o.isShow=!0,$.value=!1):(o.isShow&&(o.isShow=!1),$.value=!1)},A=U=>{o.isShow=!1;let i=o.totalGenerationProblem.length;for(let c=0;c<i;c++)if(o.totalGenerationProblem[c].generateId===U){o.currentItem=c;break}};return z(()=>{m()}),(U,i)=>{var M;const c=w("el-option"),P=w("el-select"),Q=w("CaretLeft"),W=w("el-icon");return a(),v(C,null,[e("div",Ne,[e("div",ze,[Ze,l(P,{modelValue:d.value,"onUpdate:modelValue":i[0]||(i[0]=s=>d.value=s),onChange:i[1]||(i[1]=s=>u(o).getRegion(d.value)),class:"m-2 select1",placeholder:"请选择地点"},{default:t(()=>[(a(!0),v(C,null,k(T.value.region,s=>(a(),G(c,{key:s.value,label:s.label,value:s.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("div",Oe,[Je,l(P,{modelValue:r.value,"onUpdate:modelValue":i[2]||(i[2]=s=>r.value=s),onChange:i[3]||(i[3]=s=>u(o).getGrade(r.value)),class:"m-2 select1",placeholder:"请选择年级"},{default:t(()=>[(a(),v(C,null,k(I,s=>l(c,{key:s.value1,label:s.label1,value:s.value1},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),e("div",Ke,[Qe,l(P,{modelValue:n.value,"onUpdate:modelValue":i[4]||(i[4]=s=>n.value=s),class:"m-2 select1",placeholder:"请选择上下册",onChange:i[5]||(i[5]=s=>u(o).getGenre(n.value))},{default:t(()=>[(a(),v(C,null,k(q,s=>l(c,{key:s.value2,label:s.label2,value:s.value2},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),e("div",We,[Xe,l(P,{modelValue:b.value,"onUpdate:modelValue":i[6]||(i[6]=s=>b.value=s),onChange:i[7]||(i[7]=s=>u(o).getSubject(b.value)),class:"m-2 select1",placeholder:"请选择学科"},{default:t(()=>[(a(!0),v(C,null,k(T.value.subject,s=>(a(),G(c,{key:s.value,label:s.label,value:s.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("div",Ye,[et,l(P,{modelValue:x.value,"onUpdate:modelValue":i[8]||(i[8]=s=>x.value=s),onChange:i[9]||(i[9]=s=>u(o).getTextbook(x.value)),class:"m-2 select1",placeholder:"请选择教材版本"},{default:t(()=>[(a(!0),v(C,null,k(T.value.textbook,s=>(a(),G(c,{key:s.value,label:s.label,value:s.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("div",tt,[R(e("img",{onClick:f,src:ie,style:{width:"2.08vw",height:"3.7vh"}},null,512),[[D,!u(o).isLoading]]),R(e("div",{class:"addLarge",onClick:f},ot,512),[[D,u(o).isLoading]]),e("div",null,[R(e("div",st,[e("p",{class:"first-show-item active",onClick:i[10]||(i[10]=E(s=>S(""),["stop"]))},L((M=u(o).totalGenerationProblem[0])==null?void 0:M.title),1),e("p",{class:"first-show-item",onClick:i[11]||(i[11]=E(s=>S("add"),["stop"]))},"新增生成页面")],512),[[D,$.value&&u(o).totalGenerationProblem.length===1]]),R(e("div",nt,[(a(!0),v(C,null,k(u(o).totalGenerationProblem,s=>(a(),v("p",{class:J(["else-show-item",{active:u(o).totalGenerationProblem[u(o).currentItem].generateId===s.generateId}]),key:s.generateId,onClick:pt=>A(s.generateId)},L(s.title),11,at))),128)),R(e("p",{class:"else-show-item",onClick:i[12]||(i[12]=E(s=>S("add"),["stop"]))},"新增生成页面",512),[[D,u(o).totalGenerationProblem.length<5]])],512),[[D,$.value&&u(o).totalGenerationProblem.length>1]])])])]),e("div",it,[e("div",{class:"underLeft",ref_key:"underLeft",ref:p},[l(ee,{onHiddenEventL:F})],512),e("div",dt,[e("div",{class:"underRight1",ref_key:"rightTop",ref:V},[l(ge,{onHiddenEvent:_})],512),e("div",ut,[e("div",rt,[e("div",null,[l(W,{style:{"margin-left":"0.42vw"}},{default:t(()=>[l(Q)]),_:1})]),ct,e("div",null,[R(e("img",{src:ue,onClick:f,style:{position:"absolute",right:"1vw",top:"1vh"}},null,512),[[D,!u(o).isLoading]]),R(e("div",{class:"addLarge",onClick:f},_t,512),[[D,u(o).isLoading]])])]),u(o).isShow?(a(),G(xe,{key:0})):(a(),G(Me,{key:1}))]),gt])])],64)}}};export{bt as default};
