import{r as p,v as E,o as z,c as f,x as Z,y as W,z as O,h as e,f as t,g as l,d as s,e as u,F as m,A as C,i as U,j as v,t as x,q as d,B as J,k as N,C as X,D as Y,G as A,H,I as j}from"./index-a2849ebe.js";import{_ as ee}from"./LeftTopic-992167be.js";import{_ as le}from"./_plugin-vue_export-helper-c27b6911.js";const te="/assets/position-9a305773.svg",oe="/assets/grade-cd662436.svg",se="/assets/volume-ad3e5f7d.svg",ne="/assets/subject-056a070e.svg",ae="/assets/version-21a63c9f.svg",ie="/assets/addButton-e6b62d34.svg",de="/assets/addLargeButton-ef7f2ee9.svg",ue="/assets/switch-6bf66cb9.svg";const re={style:{"padding-top":"1vh","padding-bottom":"1vh",display:"flex","align-items":"center","line-height":"1.1vh","font-size":"0.9vw"}},ce=e("div",{style:{"font-weight":"600","margin-left":"0.2vw"}},"基础筛选",-1),ve={__name:"RightTopTopic",setup(F,{emit:n}){const V=n,r=p({question:"",difficulty:"",time:"",scope:""}),$=p({questionType:""}),T={questionType:[{required:!0,message:"请选择题目具体类型",trigger:"change"}]},L=p([]),I=p(),S=p(),q={question:[{required:!0,message:"请选择题目类型",trigger:"change"}],difficulty:[{required:!0,message:"请选择难度",trigger:"change"}],time:[{required:!0,message:"请选择完成时间",trigger:"change"}],scope:[{required:!0,message:"请选择考核范围",trigger:"change"}]},k=E(),_=async()=>{await I.value.validate(),k.getChecked(r.value.question,$.value.questionType,r.value.difficulty,r.value.time.split(",").map(P=>+P),r.value.scope)},b=async()=>{const P=await W("English"),h=await O("range");L.value=h.data.data,S.value=P.data.data},i=()=>{V("hiddenEvent")};return z(()=>b()),(P,h)=>{const g=f("CaretLeft"),D=f("el-icon"),y=f("el-radio"),B=f("el-radio-group"),G=f("el-form"),a=f("el-popover"),w=f("el-form-item");return Z(P.$slots,"default",{},()=>[e("div",re,[e("div",null,[t(D,{onClick:i,style:{"margin-left":"0.42vw"}},{default:l(()=>[t(g)]),_:1})]),ce]),t(G,{model:r.value,rules:q,ref_key:"formRef",ref:I,onChange:_},{default:l(()=>[t(w,{prop:"question",label:"题型类型："},{default:l(()=>[t(B,{modelValue:r.value.question,"onUpdate:modelValue":h[1]||(h[1]=c=>r.value.question=c)},{default:l(()=>[(s(!0),u(m,null,C(S.value,c=>(s(),U(y,{key:c.value,label:c.genre},{default:l(()=>[t(a,{placement:"bottom",trigger:"click",width:"auto","popper-class":"popoverStyle"},{reference:l(()=>[v(x(c.genre),1)]),default:l(()=>[t(G,{model:$.value,rules:T},{default:l(()=>[t(B,{modelValue:$.value.questionType,"onUpdate:modelValue":h[0]||(h[0]=R=>$.value.questionType=R)},{default:l(()=>[(s(!0),u(m,null,C(c.typeNameList,R=>(s(),U(y,{key:R.value,label:R,onChange:_},{default:l(()=>[v(x(R),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue"])]),_:2},1032,["model"])]),_:2},1024)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(w,{prop:"difficulty",label:"难度选择："},{default:l(()=>[t(B,{modelValue:r.value.difficulty,"onUpdate:modelValue":h[2]||(h[2]=c=>r.value.difficulty=c)},{default:l(()=>[t(B,{label:"0"},{default:l(()=>[v("不限")]),_:1}),t(y,{label:"1"},{default:l(()=>[v("容易")]),_:1}),t(y,{label:"2"},{default:l(()=>[v("较易")]),_:1}),t(y,{label:"3"},{default:l(()=>[v("适中")]),_:1}),t(y,{label:"4"},{default:l(()=>[v("较难")]),_:1}),t(y,{label:"5"},{default:l(()=>[v("困难")]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(w,{prop:"time",label:"完成时间："},{default:l(()=>[t(B,{modelValue:r.value.time,"onUpdate:modelValue":h[3]||(h[3]=c=>r.value.time=c)},{default:l(()=>[t(y,{label:"1, 3"},{default:l(()=>[v("1~3分钟")]),_:1}),t(y,{label:"3, 5"},{default:l(()=>[v("3~5分钟")]),_:1}),t(y,{label:"5, 10"},{default:l(()=>[v("5~10分钟")]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(w,{prop:"scope",label:"考核范围："},{default:l(()=>[t(B,{modelValue:r.value.scope,"onUpdate:modelValue":h[4]||(h[4]=c=>r.value.scope=c)},{default:l(()=>[(s(!0),u(m,null,C(L.value,c=>(s(),U(y,{key:c.value,label:c.value},{default:l(()=>[v(x(c.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])])}}},_e="/assets/loaddingImg-d826fe6b.svg";const pe={style:{"margin-top":"10.7vh","text-align":"center"}},ge={key:0,class:"mt-4 searchGen"},me={key:1,class:"loadding-img"},he=e("img",{src:_e,style:{width:"16.7vw",height:"17vh"}},null,-1),fe=e("div",{class:"loadding-content"},[e("p",null,"生成中...")],-1),be=[he,fe],ye=e("div",{class:"dialog-content"},[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24ZM12.3197 5C13.0378 5 13.62 5.56281 13.62 6.3003C13.62 7.05719 13.0378 7.62 12.3197 7.62C11.5822 7.62 11 7.05719 11 6.3003C11 5.56281 11.5822 5 12.3197 5ZM11.3215 18.9077V9.45629C11.3215 8.95169 11.7752 8.6994 12.2729 8.6994C12.7527 8.6994 13.2243 8.95169 13.2243 9.45629V18.9077C13.2243 19.4317 12.7527 19.684 12.2729 19.684C11.7752 19.684 11.3215 19.4317 11.3215 18.9077Z",fill:"#6666FF"})]),e("span",null,"生成中")],-1),we=e("p",{class:"dialog-p"},"点击右上角符号进行多项业务同步生成同时查看同步生成的所有业务",-1),Ce=e("div",{class:"bar"},null,-1),ke={class:"dialog-footer"},Ve={__name:"RightUnderTopic",setup(F){const n=E(),V=p(5);let r=p(0);const $=p(),T=p(),L=p(!0),I=()=>{n.isLoading?(n.generateProblemCancel(),window.cancelAnimationFrame(r.value)):(n.isLarge=!0,n.generateClick(T.value),V.value=5,q())},S=()=>{n.isLarge=!1},q=()=>{r.value=window.requestAnimationFrame(function k(){V.value<32?(V.value+=.005,$.value.style.width=V.value+"vw",r.value=requestAnimationFrame(k)):(V.value=32,window.cancelAnimationFrame(r.value))})};return(k,_)=>{const b=f("el-tag"),i=f("el-button"),P=f("el-input"),h=f("el-dialog");return s(),u(m,null,[Z(k.$slots,"default",{},()=>[e("div",pe,[(s(!0),u(m,null,C(d(n).checkedArr,g=>(s(),U(b,{key:g,class:"mx-1 tagStyle",closable:"","disable-transitions":!1,onClose:D=>d(n).handleClose(g),type:"info"},{default:l(()=>[v(x(g),1)]),_:2},1032,["onClose"]))),128)),(s(!0),u(m,null,C(d(n).checkedArr1,g=>(s(),U(b,{key:g,class:"mx-1 tagStyle",closable:"","disable-transitions":!1,onClose:D=>d(n).handleClose1(g),type:"info"},{default:l(()=>[v(x(g),1)]),_:2},1032,["onClose"]))),128))]),L.value?(s(),u("div",ge,[t(P,{modelValue:T.value,"onUpdate:modelValue":_[0]||(_[0]=g=>T.value=g),placeholder:"请输入生成题目的关键词",class:"inputGen"},{append:l(()=>[t(i,{class:"buttonSet",onClick:I},{default:l(()=>[v(x(d(n).isLoading?"取消生成":"开始生成"),1)]),_:1}),e("div",{class:J(["loaddingCon",{hiddenf:!d(n).isLoading}])},[e("div",{ref_key:"loaddingBar",ref:$,class:"loadding"},null,512)],2)]),_:1},8,["modelValue"])])):N("",!0),d(n).isLoading?(s(),u("div",me,be)):N("",!0)]),t(h,{modal:!1,modelValue:d(n).dialogVisible,"onUpdate:modelValue":_[3]||(_[3]=g=>d(n).dialogVisible=g),width:"20.8vw","before-close":S,top:"55vh"},{footer:l(()=>[e("span",ke,[t(i,{class:"set-other-btn2",onClick:_[1]||(_[1]=g=>d(n).setDialogVisibleFlase())},{default:l(()=>[v("在当前生成页面等待")]),_:1}),t(i,{class:"set-other-btn1",onClick:_[2]||(_[2]=g=>d(n).setDialogVisibleFlase())},{default:l(()=>[v("同步生成")]),_:1})])]),default:l(()=>[ye,we,Ce]),_:1},8,["modelValue"])],64)}}};const K=F=>(X("data-v-fd18b46b"),F=F(),Y(),F),$e={class:"container"},Le={class:"innercon"},xe={class:"problem-body"},Se=K(()=>e("svg",{width:"9",height:"10",viewBox:"0 0 9 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svvg"},[e("circle",{cx:"4.5",cy:"5",r:"4.5",fill:"#BDCEFC"})],-1)),Pe={class:"problem-p"},Te={key:0,class:"subProblem"},Ie={class:"problem-p"},qe={class:"optionsCon"},Ge={key:1,class:"optionsCon"},Ue={class:"item-btns"},Be=K(()=>e("div",{class:"problem-analysis"},[e("div",{class:"split"})],-1)),Fe={class:"control"},Re={class:"btns"},De={__name:"ProblemShow",setup(F){const n=E(),V=["一","二","三","四","五"];console.log(n);const r=(I,S)=>I+1+"."+S,$=()=>{n.regenerate()},T=()=>{n.isShow=!n.isShow,n.totalGenerationProblem.splice(currentItem,1),n.currentItem=0,console.log(n.totalGenerationProblem)},L=I=>{n.addUserProblems(I)};return(I,S)=>{const q=f("el-button");return s(),u("div",$e,[e("div",Le,[e("div",xe,[(s(!0),u(m,null,C(d(n).totalGenerationProblem[d(n).currentItem].dataVO,(k,_)=>(s(),u("div",{class:"itemCon",key:k.problemId},[e("span",null,[Se,v(" 生成结果"+x(V[_]),1)]),e("p",Pe,x(r(_,k.body)),1),k.subProblemList?(s(),u("div",Te,[(s(!0),u(m,null,C(k.subProblemList,(b,i)=>(s(),u("div",null,[e("p",Ie,x(b.body),1),e("div",qe,[(s(!0),u(m,null,C(b.options,P=>(s(),u("p",{key:P},x(P),1))),128))])]))),256))])):(s(),u("div",Ge,[(s(!0),u(m,null,C(k.options,b=>(s(),u("p",{key:b},x(b),1))),128))])),e("div",Ue,[t(q,{text:"",class:"btn1"},{default:l(()=>[v("纠错")]),_:1}),t(q,{text:"",class:"btn2",onClick:b=>L(k.problemId)},{default:l(()=>[v("加入题库")]),_:2},1032,["onClick"])])]))),128))]),Be]),e("div",Fe,[e("div",Re,[t(q,{round:"",class:"set-other-btn1",onClick:$},{default:l(()=>[v("重新生成")]),_:1}),t(q,{round:"",class:"set-other-btn2",onClick:T},{default:l(()=>[v("取消生成")]),_:1})])])])}}},Ae=le(De,[["__scopeId","data-v-fd18b46b"]]);const He={class:"selectAll"},Ee={class:"content"},je=e("img",{src:te,style:{width:"1.93vw",height:"2.92vh"}},null,-1),Me={class:"content"},Ne=e("img",{src:oe,style:{width:"2.07vw",height:"2.93vh"}},null,-1),ze={class:"content"},Ze=e("img",{src:se,style:{width:"1.84vw",height:"2.89vh"}},null,-1),Oe={class:"content"},Je=e("img",{src:ne,style:{width:"1.62vw",height:"2.78vh"}},null,-1),Ke={class:"content"},Qe=e("img",{src:ae,style:{width:"1.92vw",height:"2.79vh"}},null,-1),We={class:"addButton"},Xe=e("img",{src:de,style:{width:"5.2vw",height:"9.2vh"}},null,-1),Ye=[Xe],el={class:"first-show"},ll={class:"else-show"},tl=["onClick"],ol={class:"under"},sl={class:"underRight"},nl={class:"underRight2"},al={style:{"padding-top":"1vh",display:"flex","align-items":"center","line-height":"1.1vh","font-size":"0.9vw"}},il=e("div",{style:{"font-weight":"600","margin-left":"0.2vw"}},"生成题目",-1),dl=e("div",null,[e("img",{src:ue,style:{position:"absolute",right:"1vw",top:"1vh"}})],-1),_l={__name:"selectFilter",setup(F){const n=p(""),V=p(""),r=p(""),$=p(""),T=p(""),L=p(!1),I=["region","subject","textbook"],S=p({}),q=[{value1:1,label1:"一年级"},{value1:2,label1:"二年级"},{value1:3,label1:"三年级"},{value1:4,label1:"四年级"},{value1:5,label1:"五年级"},{value1:6,label1:"六年级"},{value1:7,label1:"初一"},{value1:8,label1:"初二"},{value1:9,label1:"初三"},{value1:10,label1:"高一"},{value1:11,label1:"高二"},{value1:12,label1:"高三"}],k=[{value2:"上册",label2:"上册"},{value2:"下册",label2:"下册"}],_=p(),b=p(),i=E(),P=()=>{I.forEach(async G=>{const a=await O(G);S.value[G]=a.data.data})},h=()=>{_.value.style.width=0,_.value.style.margin=0,_.value.style.overflow="hidden"},g=()=>{b.value.style.height=0,b.value.style.overflow="hidden"},D=()=>{L.value=!L.value},y=G=>{G?(i.isLoading&&(i.isLoading=!1),i.isShow=!0,L.value=!1):(i.isShow&&(i.isShow=!1),L.value=!1)},B=G=>{i.isShow=!1;let a=i.totalGenerationProblem.length;for(let w=0;w<a;w++)if(i.totalGenerationProblem[w].generateId===G){i.currentItem=w;break}};return z(()=>{P()}),(G,a)=>{var M;const w=f("el-option"),c=f("el-select"),R=f("CaretLeft"),Q=f("el-icon");return s(),u(m,null,[e("div",He,[e("div",Ee,[je,t(c,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=o=>n.value=o),onChange:a[1]||(a[1]=o=>d(i).getRegion(n.value)),class:"m-2 select1",placeholder:"请选择地点"},{default:l(()=>[(s(!0),u(m,null,C(S.value.region,o=>(s(),U(w,{key:o.value,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("div",Me,[Ne,t(c,{modelValue:V.value,"onUpdate:modelValue":a[2]||(a[2]=o=>V.value=o),onChange:a[3]||(a[3]=o=>d(i).getGrade(V.value)),class:"m-2 select1",placeholder:"请选择年级"},{default:l(()=>[(s(),u(m,null,C(q,o=>t(w,{key:o.value1,label:o.label1,value:o.value1},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),e("div",ze,[Ze,t(c,{modelValue:r.value,"onUpdate:modelValue":a[4]||(a[4]=o=>r.value=o),class:"m-2 select1",placeholder:"请选择上下册",onChange:a[5]||(a[5]=o=>d(i).getGenre(r.value))},{default:l(()=>[(s(),u(m,null,C(k,o=>t(w,{key:o.value2,label:o.label2,value:o.value2},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),e("div",Oe,[Je,t(c,{modelValue:$.value,"onUpdate:modelValue":a[6]||(a[6]=o=>$.value=o),onChange:a[7]||(a[7]=o=>d(i).getSubject($.value)),class:"m-2 select1",placeholder:"请选择学科"},{default:l(()=>[(s(!0),u(m,null,C(S.value.subject,o=>(s(),U(w,{key:o.value,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("div",Ke,[Qe,t(c,{modelValue:T.value,"onUpdate:modelValue":a[8]||(a[8]=o=>T.value=o),onChange:a[9]||(a[9]=o=>d(i).getTextbook(T.value)),class:"m-2 select1",placeholder:"请选择教材版本"},{default:l(()=>[(s(!0),u(m,null,C(S.value.textbook,o=>(s(),U(w,{key:o.value,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("div",We,[A(e("img",{onClick:D,src:ie,style:{width:"2.08vw",height:"3.7vh"}},null,512),[[H,!d(i).isLoading]]),A(e("div",{class:"addLarge",onClick:D},Ye,512),[[H,d(i).isLoading]]),e("div",null,[A(e("div",el,[e("p",{class:"first-show-item active",onClick:a[10]||(a[10]=j(o=>y(""),["stop"]))},x((M=d(i).totalGenerationProblem[0])==null?void 0:M.title),1),e("p",{class:"first-show-item",onClick:a[11]||(a[11]=j(o=>y("add"),["stop"]))},"新增生成页面")],512),[[H,L.value&&d(i).totalGenerationProblem.length===1]]),A(e("div",ll,[(s(!0),u(m,null,C(d(i).totalGenerationProblem,o=>(s(),u("p",{class:J(["else-show-item",{active:d(i).totalGenerationProblem[d(i).currentItem].generateId===o.generateId}]),key:o.generateId,onClick:ul=>B(o.generateId)},x(o.title),11,tl))),128)),A(e("p",{class:"else-show-item",onClick:a[12]||(a[12]=j(o=>y("add"),["stop"]))},"新增生成页面",512),[[H,d(i).totalGenerationProblem.length<5]])],512),[[H,L.value&&d(i).totalGenerationProblem.length>1]])])])]),e("div",ol,[e("div",{class:"underLeft",ref_key:"underLeft",ref:_},[t(ee,{onHiddenEventL:h})],512),e("div",sl,[e("div",{class:"underRight1",ref_key:"rightTop",ref:b},[t(ve,{onHiddenEvent:g})],512),e("div",nl,[e("div",al,[e("div",null,[t(Q,{style:{"margin-left":"0.42vw"}},{default:l(()=>[t(R)]),_:1})]),il,dl]),d(i).isShow?(s(),U(Ve,{key:0})):(s(),U(Ae,{key:1}))])])])],64)}}};export{_l as default};
