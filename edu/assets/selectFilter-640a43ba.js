import{r as f,v as H,o as z,c as w,x as Z,y as O,h as e,f as t,g as l,d as a,e as v,F as C,z as V,q as r,i as q,j as _,t as x,A as J,k as N,B as X,C as Y,D as R,G as D,H as j}from"./index-5b824257.js";import{_ as ee}from"./LeftTopic-26a17de8.js";import{_ as le}from"./_plugin-vue_export-helper-c27b6911.js";const te="/assets/position-9a305773.svg",oe="/assets/grade-cd662436.svg",se="/assets/volume-ad3e5f7d.svg",ne="/assets/subject-056a070e.svg",ae="/assets/version-21a63c9f.svg",ie="/assets/addButton-e6b62d34.svg",de="/assets/addLargeButton-ef7f2ee9.svg",ue="/assets/switch-6bf66cb9.svg",re="/assets/lockbag-59256813.svg";const ce={style:{"padding-top":"1vh","padding-bottom":"1vh",display:"flex","align-items":"center","line-height":"1.1vh","font-size":"0.9vw"}},ve=e("div",{style:{"font-weight":"600","margin-left":"0.2vw"}},"基础筛选",-1),_e={__name:"RightTopTopic",setup(y,{emit:d}){const u=d,n=f({question:"",difficulty:"",time:"",scope:""}),h=f({questionType:""}),L={questionType:[{required:!0,message:"请选择题目具体类型",trigger:"change"}]},$=f([]),B=f(),I={question:[{required:!0,message:"请选择题目类型",trigger:"change"}],difficulty:[{required:!0,message:"请选择难度",trigger:"change"}],time:[{required:!0,message:"请选择完成时间",trigger:"change"}],scope:[{required:!0,message:"请选择考核范围",trigger:"change"}]},S=H(),P=async()=>{await B.value.validate(),S.getChecked(n.value.question,h.value.questionType,n.value.difficulty,n.value.time.split(",").map(s=>+s),n.value.scope)},g=async()=>{const s=await O("range");$.value=s.data.data},k=()=>{u("hiddenEvent")};return z(()=>{g(),S.initSubject()}),(s,p)=>{const F=w("CaretLeft"),m=w("el-icon"),b=w("el-radio"),G=w("el-radio-group"),A=w("el-form"),U=w("el-popover"),i=w("el-form-item");return Z(s.$slots,"default",{},()=>[e("div",ce,[e("div",null,[t(m,{onClick:k,style:{"margin-left":"0.42vw"}},{default:l(()=>[t(F)]),_:1})]),ve]),t(A,{model:n.value,rules:I,ref_key:"formRef",ref:B,onChange:P},{default:l(()=>[t(i,{prop:"question",label:"题型类型："},{default:l(()=>[t(G,{modelValue:n.value.question,"onUpdate:modelValue":p[1]||(p[1]=c=>n.value.question=c)},{default:l(()=>[(a(!0),v(C,null,V(r(S).ProblemTypeData,c=>(a(),q(b,{key:c.value,label:c.genre},{default:l(()=>[t(U,{placement:"bottom",trigger:"click",width:"auto","popper-class":"popoverStyle"},{reference:l(()=>[_(x(c.genre),1)]),default:l(()=>[t(A,{model:h.value,rules:L},{default:l(()=>[t(G,{modelValue:h.value.questionType,"onUpdate:modelValue":p[0]||(p[0]=T=>h.value.questionType=T)},{default:l(()=>[(a(!0),v(C,null,V(c.typeNameList,T=>(a(),q(b,{key:T.value,label:T,onChange:P},{default:l(()=>[_(x(T),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue"])]),_:2},1032,["model"])]),_:2},1024)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(i,{prop:"difficulty",label:"难度选择："},{default:l(()=>[t(G,{modelValue:n.value.difficulty,"onUpdate:modelValue":p[2]||(p[2]=c=>n.value.difficulty=c)},{default:l(()=>[t(b,{label:"0"},{default:l(()=>[_("不限")]),_:1}),t(b,{label:"1"},{default:l(()=>[_("容易")]),_:1}),t(b,{label:"2"},{default:l(()=>[_("较易")]),_:1}),t(b,{label:"3"},{default:l(()=>[_("适中")]),_:1}),t(b,{label:"4"},{default:l(()=>[_("较难")]),_:1}),t(b,{label:"5"},{default:l(()=>[_("困难")]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(i,{prop:"time",label:"完成时间："},{default:l(()=>[t(G,{modelValue:n.value.time,"onUpdate:modelValue":p[3]||(p[3]=c=>n.value.time=c)},{default:l(()=>[t(b,{label:"1, 3"},{default:l(()=>[_("1~3分钟")]),_:1}),t(b,{label:"3, 5"},{default:l(()=>[_("3~5分钟")]),_:1}),t(b,{label:"5, 10"},{default:l(()=>[_("5~10分钟")]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(i,{prop:"scope",label:"考核范围："},{default:l(()=>[t(G,{modelValue:n.value.scope,"onUpdate:modelValue":p[4]||(p[4]=c=>n.value.scope=c)},{default:l(()=>[(a(!0),v(C,null,V($.value,c=>(a(),q(b,{key:c.value,label:c.value},{default:l(()=>[_(x(c.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])])}}},pe="/assets/loaddingImg-d826fe6b.svg";function ge(y){return{all:y=y||new Map,on:function(d,u){var n=y.get(d);n?n.push(u):y.set(d,[u])},off:function(d,u){var n=y.get(d);n&&(u?n.splice(n.indexOf(u)>>>0,1):y.set(d,[]))},emit:function(d,u){var n=y.get(d);n&&n.slice().map(function(h){h(u)}),(n=y.get("*"))&&n.slice().map(function(h){h(d,u)})}}}const E=ge();const me={style:{"margin-top":"10.7vh","text-align":"center"}},fe={key:0,class:"mt-4 searchGen"},he={key:1,class:"loadding-img"},be=e("img",{src:pe,style:{width:"16.7vw",height:"17vh"}},null,-1),ye=e("div",{class:"loadding-content"},[e("p",null,"生成中...")],-1),we=[be,ye],Ce=e("div",{class:"dialog-content"},[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24ZM12.3197 5C13.0378 5 13.62 5.56281 13.62 6.3003C13.62 7.05719 13.0378 7.62 12.3197 7.62C11.5822 7.62 11 7.05719 11 6.3003C11 5.56281 11.5822 5 12.3197 5ZM11.3215 18.9077V9.45629C11.3215 8.95169 11.7752 8.6994 12.2729 8.6994C12.7527 8.6994 13.2243 8.95169 13.2243 9.45629V18.9077C13.2243 19.4317 12.7527 19.684 12.2729 19.684C11.7752 19.684 11.3215 19.4317 11.3215 18.9077Z",fill:"#6666FF"})]),e("span",null,"生成中")],-1),ke=e("p",{class:"dialog-p"},"点击右上角符号进行多项业务同步生成同时查看同步生成的所有业务",-1),Ve=e("div",{class:"bar"},null,-1),$e={class:"dialog-footer"},Se={__name:"RightUnderTopic",setup(y){const d=H(),u=f(5);let n=f(0);const h=f(),L=f(),$=f(!0),B=()=>{d.isLoading?(d.generateProblemCancel(),window.cancelAnimationFrame(n.value)):(d.isLarge=!0,d.generateClick(L.value),u.value=5,S())},I=()=>{d.isLarge=!1},S=()=>{n.value=window.requestAnimationFrame(function P(){u.value<32?(u.value+=.005,h.value.style.width=u.value+"vw",n.value=requestAnimationFrame(P)):(u.value=32,window.cancelAnimationFrame(n.value))})};return E.on("progress",S()),(P,g)=>{const k=w("el-tag"),s=w("el-button"),p=w("el-input"),F=w("el-dialog");return Z(P.$slots,"default",{},()=>[e("div",me,[(a(!0),v(C,null,V(r(d).checkedArr,m=>(a(),q(k,{key:m,class:"mx-1 tagStyle",closable:"","disable-transitions":!1,onClose:b=>r(d).handleClose(m),type:"info"},{default:l(()=>[_(x(m),1)]),_:2},1032,["onClose"]))),128)),(a(!0),v(C,null,V(r(d).tagArrTop,m=>(a(),q(k,{key:m,class:"mx-1 tagStyle",closable:"","disable-transitions":!1,onClose:b=>r(d).handleClose1(m),type:"info"},{default:l(()=>[_(x(m),1)]),_:2},1032,["onClose"]))),128))]),$.value?(a(),v("div",fe,[t(p,{modelValue:L.value,"onUpdate:modelValue":g[0]||(g[0]=m=>L.value=m),placeholder:"请输入生成题目的关键词",class:"inputGen"},{append:l(()=>[t(s,{class:"buttonSet",onClick:B},{default:l(()=>[_(x(r(d).isLoading?"取消生成":"开始生成"),1)]),_:1}),e("div",{class:J(["loaddingCon",{hiddenf:!r(d).isLoading}])},[e("div",{ref_key:"loaddingBar",ref:h,class:"loadding"},null,512)],2)]),_:1},8,["modelValue"])])):N("",!0),r(d).isLoading?(a(),v("div",he,we)):N("",!0),t(F,{modal:!1,modelValue:r(d).dialogVisible,"onUpdate:modelValue":g[3]||(g[3]=m=>r(d).dialogVisible=m),width:"20.8vw","before-close":I,top:"55vh",class:"dialogSet"},{footer:l(()=>[e("span",$e,[t(s,{class:"set-other-btn2",onClick:g[1]||(g[1]=m=>r(d).setDialogVisibleFlase())},{default:l(()=>[_("在当前生成页面等待")]),_:1}),t(s,{class:"set-other-btn1",onClick:g[2]||(g[2]=m=>r(d).setDialogVisibleFlase())},{default:l(()=>[_("同步生成")]),_:1})])]),default:l(()=>[Ce,ke,Ve]),_:1},8,["modelValue"])])}}};const K=y=>(X("data-v-f1ad4925"),y=y(),Y(),y),xe={class:"container"},Le={class:"innercon"},Pe={class:"problem-body"},Te=K(()=>e("svg",{width:"9",height:"10",viewBox:"0 0 9 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svvg"},[e("circle",{cx:"4.5",cy:"5",r:"4.5",fill:"#BDCEFC"})],-1)),Ie={class:"problem-p"},qe={key:0,class:"subProblem"},Ge={class:"problem-p"},Ue={class:"optionsCon"},Be={key:1,class:"optionsCon"},Fe={class:"item-btns"},Re=K(()=>e("div",{class:"problem-analysis"},[e("div",{class:"split"})],-1)),De={class:"control"},Ae={class:"btns"},He={__name:"ProblemShow",setup(y,{emit:d}){const u=H(),n=["一","二","三","四","五"],h=f(!0),L=(S,P)=>S+1+"."+P,$=()=>{u.regenerate(),E.emit("progress"),E.emit("tip",h.value)},B=()=>{u.isShow=!u.isShow,u.totalGenerationProblem.splice(currentItem,1),u.currentItem=0,console.log(u.totalGenerationProblem)},I=S=>{u.addUserProblems(S)};return(S,P)=>{const g=w("el-button");return a(),v("div",xe,[e("div",Le,[e("div",Pe,[(a(!0),v(C,null,V(r(u).totalGenerationProblem[r(u).currentItem].dataVO,(k,s)=>(a(),v("div",{class:"itemCon",key:k.problemId},[e("span",null,[Te,_(" 生成结果"+x(n[s]),1)]),e("p",Ie,x(L(s,k.body)),1),k.subProblemList?(a(),v("div",qe,[(a(!0),v(C,null,V(k.subProblemList,(p,F)=>(a(),v("div",null,[e("p",Ge,x(p.body),1),e("div",Ue,[(a(!0),v(C,null,V(p.options,m=>(a(),v("p",{key:m},x(m),1))),128))])]))),256))])):(a(),v("div",Be,[(a(!0),v(C,null,V(k.options,p=>(a(),v("p",{key:p},x(p),1))),128))])),e("div",Fe,[t(g,{text:"",class:"btn1"},{default:l(()=>[_("纠错")]),_:1}),t(g,{text:"",class:"btn2",onClick:p=>I(k.problemId)},{default:l(()=>[_("加入题库")]),_:2},1032,["onClick"])])]))),128))]),Re]),e("div",De,[e("div",Ae,[t(g,{round:"",class:"set-other-btn1",onClick:$},{default:l(()=>[_("重新生成")]),_:1}),t(g,{round:"",class:"set-other-btn2",onClick:B},{default:l(()=>[_("取消生成")]),_:1})])])])}}},je=le(He,[["__scopeId","data-v-f1ad4925"]]);const Ee={class:"selectAll"},Me={class:"content"},Ne=e("img",{src:te,style:{width:"1.93vw",height:"2.92vh"}},null,-1),ze={class:"content"},Ze=e("img",{src:oe,style:{width:"2.07vw",height:"2.93vh"}},null,-1),Oe={class:"content"},Je=e("img",{src:se,style:{width:"1.84vw",height:"2.89vh"}},null,-1),Ke={class:"content"},Qe=e("img",{src:ne,style:{width:"1.92vw",height:"3vh"}},null,-1),We={class:"content"},Xe=e("img",{src:ae,style:{width:"1.92vw",height:"2.79vh"}},null,-1),Ye={class:"addButton"},el=e("img",{src:de,style:{width:"5.2vw",height:"9.2vh"}},null,-1),ll=[el],tl={class:"first-show"},ol={class:"else-show"},sl=["onClick"],nl={class:"under"},al={class:"underRight"},il={class:"underRight2"},dl={style:{"padding-top":"1vh",display:"flex","align-items":"center","line-height":"1.1vh","font-size":"0.9vw"}},ul=e("div",{style:{"font-weight":"600","margin-left":"0.2vw"}},"生成题目",-1),rl=e("div",null,[e("img",{src:ue,style:{position:"absolute",right:"1vw",top:"1vh"}})],-1),cl=e("img",{class:"dragImg",draggable:"true",src:re,alt:""},null,-1),ml={__name:"selectFilter",setup(y){const d=f(""),u=f(""),n=f(""),h=f(""),L=f(""),$=f(!1),B=["region","subject","textbook"],I=f({}),S=[{value1:1,label1:"一年级"},{value1:2,label1:"二年级"},{value1:3,label1:"三年级"},{value1:4,label1:"四年级"},{value1:5,label1:"五年级"},{value1:6,label1:"六年级"},{value1:7,label1:"初一"},{value1:8,label1:"初二"},{value1:9,label1:"初三"},{value1:10,label1:"高一"},{value1:11,label1:"高二"},{value1:12,label1:"高三"}],P=[{value2:"上册",label2:"上册"},{value2:"下册",label2:"下册"}],g=f(),k=f(),s=H(),p=()=>{B.forEach(async U=>{const i=await O(U);I.value[U]=i.data.data})},F=()=>{g.value.style.width=0,g.value.style.margin=0,g.value.style.overflow="hidden"},m=()=>{k.value.style.height=0,k.value.style.overflow="hidden"},b=()=>{$.value=!$.value},G=U=>{U?(s.isLoading&&(s.isLoading=!1),s.isShow=!0,$.value=!1):(s.isShow&&(s.isShow=!1),$.value=!1)},A=U=>{s.isShow=!1;let i=s.totalGenerationProblem.length;for(let c=0;c<i;c++)if(s.totalGenerationProblem[c].generateId===U){s.currentItem=c;break}};return z(()=>{p()}),(U,i)=>{var M;const c=w("el-option"),T=w("el-select"),Q=w("CaretLeft"),W=w("el-icon");return a(),v(C,null,[e("div",Ee,[e("div",Me,[Ne,t(T,{modelValue:d.value,"onUpdate:modelValue":i[0]||(i[0]=o=>d.value=o),onChange:i[1]||(i[1]=o=>r(s).getRegion(d.value)),class:"m-2 select1",placeholder:"请选择地点"},{default:l(()=>[(a(!0),v(C,null,V(I.value.region,o=>(a(),q(c,{key:o.value,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("div",ze,[Ze,t(T,{modelValue:u.value,"onUpdate:modelValue":i[2]||(i[2]=o=>u.value=o),onChange:i[3]||(i[3]=o=>r(s).getGrade(u.value)),class:"m-2 select1",placeholder:"请选择年级"},{default:l(()=>[(a(),v(C,null,V(S,o=>t(c,{key:o.value1,label:o.label1,value:o.value1},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),e("div",Oe,[Je,t(T,{modelValue:n.value,"onUpdate:modelValue":i[4]||(i[4]=o=>n.value=o),class:"m-2 select1",placeholder:"请选择上下册",onChange:i[5]||(i[5]=o=>r(s).getGenre(n.value))},{default:l(()=>[(a(),v(C,null,V(P,o=>t(c,{key:o.value2,label:o.label2,value:o.value2},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),e("div",Ke,[Qe,t(T,{modelValue:h.value,"onUpdate:modelValue":i[6]||(i[6]=o=>h.value=o),onChange:i[7]||(i[7]=o=>r(s).getSubject(h.value)),class:"m-2 select1",placeholder:"请选择学科"},{default:l(()=>[(a(!0),v(C,null,V(I.value.subject,o=>(a(),q(c,{key:o.value,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("div",We,[Xe,t(T,{modelValue:L.value,"onUpdate:modelValue":i[8]||(i[8]=o=>L.value=o),onChange:i[9]||(i[9]=o=>r(s).getTextbook(L.value)),class:"m-2 select1",placeholder:"请选择教材版本"},{default:l(()=>[(a(!0),v(C,null,V(I.value.textbook,o=>(a(),q(c,{key:o.value,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("div",Ye,[R(e("img",{onClick:b,src:ie,style:{width:"2.08vw",height:"3.7vh"}},null,512),[[D,!r(s).isLoading]]),R(e("div",{class:"addLarge",onClick:b},ll,512),[[D,r(s).isLoading]]),e("div",null,[R(e("div",tl,[e("p",{class:"first-show-item active",onClick:i[10]||(i[10]=j(o=>G(""),["stop"]))},x((M=r(s).totalGenerationProblem[0])==null?void 0:M.title),1),e("p",{class:"first-show-item",onClick:i[11]||(i[11]=j(o=>G("add"),["stop"]))},"新增生成页面")],512),[[D,$.value&&r(s).totalGenerationProblem.length===1]]),R(e("div",ol,[(a(!0),v(C,null,V(r(s).totalGenerationProblem,o=>(a(),v("p",{class:J(["else-show-item",{active:r(s).totalGenerationProblem[r(s).currentItem].generateId===o.generateId}]),key:o.generateId,onClick:vl=>A(o.generateId)},x(o.title),11,sl))),128)),R(e("p",{class:"else-show-item",onClick:i[12]||(i[12]=j(o=>G("add"),["stop"]))},"新增生成页面",512),[[D,r(s).totalGenerationProblem.length<5]])],512),[[D,$.value&&r(s).totalGenerationProblem.length>1]])])])]),e("div",nl,[e("div",{class:"underLeft",ref_key:"underLeft",ref:g},[t(ee,{onHiddenEventL:F})],512),e("div",al,[e("div",{class:"underRight1",ref_key:"rightTop",ref:k},[t(_e,{onHiddenEvent:m})],512),e("div",il,[e("div",dl,[e("div",null,[t(W,{style:{"margin-left":"0.42vw"}},{default:l(()=>[t(Q)]),_:1})]),ul,rl]),r(s).isShow?(a(),q(Se,{key:0})):(a(),q(je,{key:1}))]),cl])])],64)}}};export{ml as default};
