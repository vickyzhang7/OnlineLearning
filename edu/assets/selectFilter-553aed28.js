import{r as y,v as z,o as X,c as E,x as te,y as le,h as t,f as n,g as o,d as c,e as w,F as V,z as x,q as g,i as N,j as h,t as G,A as K,k as ee,B as A,C as j,D as ie,E as O,G as oe,H as ne,b as de,I as re,J as ce,K as J}from"./index-36b308b0.js";import{_ as ue}from"./LeftTopic-0f76b2ec.js";import{_ as se}from"./_plugin-vue_export-helper-c27b6911.js";const ve="/assets/position-9a305773.svg",ge="/assets/grade-cd662436.svg",_e="/assets/volume-ad3e5f7d.svg",pe="/assets/subject-056a070e.svg",me="/assets/version-21a63c9f.svg",fe="/assets/addButton-e6b62d34.svg",be="/assets/addLargeButton-ef7f2ee9.svg",he="/assets/beforeSwitch-e17756fd.svg",ye="/assets/switch-6bf66cb9.svg",we="/assets/usebag-38c5e3ce.svg";const Ce={style:{"padding-top":"1vh","padding-bottom":"1vh",display:"flex","align-items":"center","line-height":"1.1vh","font-size":"0.9vw"}},ke=t("div",{style:{"font-weight":"600","margin-left":"0.2vw"}},"基础筛选",-1),$e={__name:"RightTopTopic",setup(B,{emit:_}){const f=_,v=y({question:"",difficulty:"",time:"",scope:""}),T=y({questionType:""}),F={questionType:[{required:!0,message:"请选择题目具体类型",trigger:"change"}]},D=y([]),Q=y(),q={question:[{required:!0,message:"请选择题目类型",trigger:"change"}],difficulty:[{required:!0,message:"请选择难度",trigger:"change"}],time:[{required:!0,message:"请选择完成时间",trigger:"change"}],scope:[{required:!0,message:"请选择考核范围",trigger:"change"}]},U=z(),L=async()=>{await Q.value.validate(),U.getChecked(v.value.question,T.value.questionType,v.value.difficulty,v.value.time.split(",").map(l=>+l),v.value.scope)},a=async()=>{const l=await le("range");D.value=l.data.data},i=()=>{f("hiddenEvent")};return X(()=>{a(),U.initSubject()}),(l,I)=>{const S=E("CaretLeft"),d=E("el-icon"),s=E("el-radio"),C=E("el-radio-group"),Z=E("el-form"),M=E("el-popover"),u=E("el-form-item");return te(l.$slots,"default",{},()=>[t("div",Ce,[t("div",null,[n(d,{onClick:i,style:{"margin-left":"0.42vw"}},{default:o(()=>[n(S)]),_:1})]),ke]),n(Z,{model:v.value,rules:q,ref_key:"formRef",ref:Q,onChange:L},{default:o(()=>[n(u,{prop:"question",label:"题型类型："},{default:o(()=>[n(C,{modelValue:v.value.question,"onUpdate:modelValue":I[1]||(I[1]=k=>v.value.question=k)},{default:o(()=>[(c(!0),w(V,null,x(g(U).ProblemTypeData,k=>(c(),N(s,{key:k.value,label:k.genre},{default:o(()=>[n(M,{placement:"bottom",trigger:"click",width:"auto","popper-class":"popoverStyle"},{reference:o(()=>[h(G(k.genre),1)]),default:o(()=>[n(Z,{model:T.value,rules:F},{default:o(()=>[n(C,{modelValue:T.value.questionType,"onUpdate:modelValue":I[0]||(I[0]=R=>T.value.questionType=R)},{default:o(()=>[(c(!0),w(V,null,x(k.typeNameList,R=>(c(),N(s,{key:R.value,label:R,onChange:L},{default:o(()=>[h(G(R),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue"])]),_:2},1032,["model"])]),_:2},1024)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),n(u,{prop:"difficulty",label:"难度选择："},{default:o(()=>[n(C,{modelValue:v.value.difficulty,"onUpdate:modelValue":I[2]||(I[2]=k=>v.value.difficulty=k)},{default:o(()=>[n(s,{label:"0"},{default:o(()=>[h("不限")]),_:1}),n(s,{label:"1"},{default:o(()=>[h("容易")]),_:1}),n(s,{label:"2"},{default:o(()=>[h("较易")]),_:1}),n(s,{label:"3"},{default:o(()=>[h("适中")]),_:1}),n(s,{label:"4"},{default:o(()=>[h("较难")]),_:1}),n(s,{label:"5"},{default:o(()=>[h("困难")]),_:1})]),_:1},8,["modelValue"])]),_:1}),n(u,{prop:"time",label:"完成时间："},{default:o(()=>[n(C,{modelValue:v.value.time,"onUpdate:modelValue":I[3]||(I[3]=k=>v.value.time=k)},{default:o(()=>[n(s,{label:"1, 3"},{default:o(()=>[h("1~3分钟")]),_:1}),n(s,{label:"3, 5"},{default:o(()=>[h("3~5分钟")]),_:1}),n(s,{label:"5, 10"},{default:o(()=>[h("5~10分钟")]),_:1})]),_:1},8,["modelValue"])]),_:1}),n(u,{prop:"scope",label:"考核范围："},{default:o(()=>[n(C,{modelValue:v.value.scope,"onUpdate:modelValue":I[4]||(I[4]=k=>v.value.scope=k)},{default:o(()=>[(c(!0),w(V,null,x(D.value,k=>(c(),N(s,{key:k.value,label:k.value},{default:o(()=>[h(G(k.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])])}}},Se="/assets/loaddingImg-d826fe6b.svg";function Pe(B){return{all:B=B||new Map,on:function(_,f){var v=B.get(_);v?v.push(f):B.set(_,[f])},off:function(_,f){var v=B.get(_);v&&(f?v.splice(v.indexOf(f)>>>0,1):B.set(_,[]))},emit:function(_,f){var v=B.get(_);v&&v.slice().map(function(T){T(f)}),(v=B.get("*"))&&v.slice().map(function(T){T(_,f)})}}}const W=Pe();const Ie={style:{"margin-top":"10.7vh","text-align":"center"}},Be={key:0,class:"mt-4 searchGen"},Te={key:1,class:"loadding-img"},Ee=t("img",{src:Se,style:{width:"16.7vw",height:"17vh"}},null,-1),Ve=t("div",{class:"loadding-content"},[t("p",null,"生成中...")],-1),xe=[Ee,Ve],Fe=t("div",{class:"dialog-content"},[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24ZM12.3197 5C13.0378 5 13.62 5.56281 13.62 6.3003C13.62 7.05719 13.0378 7.62 12.3197 7.62C11.5822 7.62 11 7.05719 11 6.3003C11 5.56281 11.5822 5 12.3197 5ZM11.3215 18.9077V9.45629C11.3215 8.95169 11.7752 8.6994 12.2729 8.6994C12.7527 8.6994 13.2243 8.95169 13.2243 9.45629V18.9077C13.2243 19.4317 12.7527 19.684 12.2729 19.684C11.7752 19.684 11.3215 19.4317 11.3215 18.9077Z",fill:"#6666FF"})]),t("span",null,"生成中")],-1),Ge=t("p",{class:"dialog-p"},"点击右上角符号进行多项业务同步生成同时查看同步生成的所有业务",-1),De=t("div",{class:"bar"},null,-1),qe={class:"dialog-footer"},Ue={__name:"RightUnderTopic",setup(B){const _=z(),f=y(5);let v=y(0);const T=y(),F=y(),D=y(!0),Q=()=>{_.isLoading?(_.generateProblemCancel(),window.cancelAnimationFrame(v.value)):(_.isLarge=!0,_.generateClick(F.value),f.value=5,U())},q=()=>{_.isLarge=!1},U=()=>{v.value=window.requestAnimationFrame(function L(){f.value<32?(f.value+=.005,T.value.style.width=f.value+"vw",v.value=requestAnimationFrame(L)):(f.value=32,window.cancelAnimationFrame(v.value))})};return W.on("progress",U()),(L,a)=>{const i=E("el-tag"),l=E("el-button"),I=E("el-input"),S=E("el-dialog");return te(L.$slots,"default",{},()=>[t("div",Ie,[(c(!0),w(V,null,x(g(_).checkedArr,d=>(c(),N(i,{key:d,class:"mx-1 tagStyle",closable:"","disable-transitions":!1,onClose:s=>g(_).handleClose(d),type:"info"},{default:o(()=>[h(G(d),1)]),_:2},1032,["onClose"]))),128)),(c(!0),w(V,null,x(g(_).tagArrTop,d=>(c(),N(i,{key:d,class:"mx-1 tagStyle",closable:"","disable-transitions":!1,onClose:s=>g(_).handleClose1(d),type:"info"},{default:o(()=>[h(G(d),1)]),_:2},1032,["onClose"]))),128))]),D.value?(c(),w("div",Be,[n(I,{modelValue:F.value,"onUpdate:modelValue":a[0]||(a[0]=d=>F.value=d),placeholder:"请输入生成题目的关键词",class:"inputGen"},{append:o(()=>[n(l,{class:"buttonSet",onClick:Q},{default:o(()=>[h(G(g(_).isLoading?"取消生成":"开始生成"),1)]),_:1}),t("div",{class:K(["loaddingCon",{hiddenf:!g(_).isLoading}])},[t("div",{ref_key:"loaddingBar",ref:T,class:"loadding"},null,512)],2)]),_:1},8,["modelValue"])])):ee("",!0),g(_).isLoading?(c(),w("div",Te,xe)):ee("",!0),n(S,{modal:!1,modelValue:g(_).dialogVisible,"onUpdate:modelValue":a[3]||(a[3]=d=>g(_).dialogVisible=d),width:"20.8vw","before-close":q,top:"55vh",class:"dialogSet"},{footer:o(()=>[t("span",qe,[n(l,{class:"set-other-btn2",onClick:a[1]||(a[1]=d=>g(_).setDialogVisibleFlase())},{default:o(()=>[h("在当前生成页面等待")]),_:1}),n(l,{class:"set-other-btn1",onClick:a[2]||(a[2]=d=>g(_).setDialogVisibleFlase())},{default:o(()=>[h("同步生成")]),_:1})])]),default:o(()=>[Fe,Ge,De]),_:1},8,["modelValue"])])}}};const ae=B=>(oe("data-v-a6b8cc43"),B=B(),ne(),B),Le={class:"container"},Re={class:"innercon"},He={class:"problem-body"},Qe=ae(()=>t("svg",{width:"9",height:"10",viewBox:"0 0 9 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svvg"},[t("circle",{cx:"4.5",cy:"5",r:"4.5",fill:"#BDCEFC"})],-1)),Me=["id"],Ae={key:0,class:"subProblem"},je=["id"],Ne={class:"optionsCon"},Ze=["id"],ze={key:1,class:"optionsCon"},Oe=["id"],Je={class:"item-btns"},Ke={class:"item-btns1"},We=ae(()=>t("div",{class:"problem-analysis"},[t("div",{class:"split"})],-1)),Xe={class:"control"},Ye={class:"btns"},et={__name:"ProblemShow",setup(B,{emit:_}){const f=z(),v=["一","二","三","四","五"],T=y(!0),F=y(!1),D=(p,b)=>p+1+"."+b,Q=y(""),q=y([]),U=y([]),L=y([]),a=y(""),i=y(""),l=y([]),I=y([]),S=y([]);y([]);const d=()=>{f.regenerate(),W.emit("progress"),W.emit("tip",T.value)},s=()=>{f.isShow=!f.isShow,f.totalGenerationProblem.splice(currentItem,1),f.currentItem=0},C=p=>{f.addUserProblems(p)},Z=(p,b,$,e)=>{if(document.getElementById("pQuestion"+p).contentEditable=e,b){for(let r=0;r<b.length;r++)if(document.getElementById("pSelect"+p+r).contentEditable=e,b[r].options)for(let P=0;P<b[r].options.length;P++)document.getElementById("pSelect"+p+r+P).contentEditable=e}if($)for(let r=0;r<$.length;r++)document.getElementById("pSelect"+p+"_"+r).contentEditable=e},M=(p,b,$)=>{if(Q.value=document.getElementById("pQuestion"+p).innerText,b)for(let e=0;e<b.length;e++){const r=document.getElementById("pSelect"+p+e);if(q.value[e]=r.innerText,b[e].options)for(let P=0;P<b[e].options.length;P++){const m=document.getElementById("pSelect"+p+e+P);U.value[P]=m.innerText}}if($)for(let e=0;e<$.length;e++){const r=document.getElementById("pSelect"+p+"_"+e);L.value[e]=r.innerText}},u=(p,b,$)=>{F.value=!0,M(p,b,$),Z(p,b,$,!0)},k=(p,b,$,e)=>{if(F.value=!1,Z(p,b,$,!1),document.getElementById("pQuestion"+p).innerText=Q.value,b){for(let r=0;r<b.length;r++)if(document.getElementById("pSelect"+p+r).innerText=q.value[r],b[r].options)for(let P=0;P<b[r].options.length;P++)document.getElementById("pSelect"+p+r+P).innerText=U.value[P]}if($)for(let r=0;r<$.length;r++)document.getElementById("pSelect"+p+"_"+r).innerText=L.value[r]},R=async(p,b,$,e)=>{if(F.value=!1,document.getElementById("pQuestion"+p).contentEditable=!1,Z(p,b,$,!1),i.value=document.getElementById("pQuestion"+p).innerText.slice(2),a.value=i.value,b){for(let m=0;m<b.length;m++)if(l.value[m]=document.getElementById("pSelect"+p+m).innerText,a.value=a.value+l.value[m]+`
`,b[m].options)for(let H=0;H<b[m].options.length;H++)I.value[H]=document.getElementById("pSelect"+p+m+H).innerText,a.value=a.value+I.value[H]}if($)for(let m=0;m<$.length;m++)S.value[m]=document.getElementById("pSelect"+p+"_"+m).innerText,a.value=a.value+S.value[m];const r=a.value.replace(/\\"/g,"");console.log("body是",r);const P=await ie(r,e);if(console.log("res:",P),document.getElementById("pQuestion"+p).innerText=p+1+"."+i.value,b){for(let m=0;m<b.length;m++)if(document.getElementById("pSelect"+p+m).innerText=l.value[m],b[m].options)for(let H=0;H<b[m].options.length;H++)document.getElementById("pSelect"+p+m+H).innerText=I.value[H]}if($)for(let m=0;m<$.length;m++)document.getElementById("pSelect"+p+"_"+m).innerText=S.value[m];O.success(`${P.data.data}`)};return(p,b)=>{const $=E("el-button");return c(),w("div",Le,[t("div",Re,[t("div",He,[(c(!0),w(V,null,x(g(f).totalGenerationProblem[g(f).currentItem].dataVO,(e,r)=>(c(),w("div",{class:"itemCon",key:e.problemId},[t("span",null,[Qe,h(" 生成结果"+G(v[r]),1)]),t("p",{class:"problem-p",id:"pQuestion"+r},G(D(r,e.body)),9,Me),e.subProblemList?(c(),w("div",Ae,[(c(!0),w(V,null,x(e.subProblemList,(P,m)=>(c(),w("div",{key:m},[t("p",{class:"problem-p",id:"pSelect"+r+m},G(P.body),9,je),t("div",Ne,[(c(!0),w(V,null,x(P.options,(H,Y)=>(c(),w("p",{key:Y,id:"pSelect"+r+m+Y},G(H),9,Ze))),128))])]))),128))])):(c(),w("div",ze,[(c(!0),w(V,null,x(e.options,(P,m)=>(c(),w("p",{key:m,id:"pSelect"+r+"_"+m},G(P),9,Oe))),128))])),t("div",Je,[n($,{text:"",class:"btn1",onClick:P=>u(r,e.subProblemList,e.options)},{default:o(()=>[h("纠错")]),_:2},1032,["onClick"]),n($,{text:"",class:"btn2",onClick:P=>C(e.problemId)},{default:o(()=>[h("加入题库")]),_:2},1032,["onClick"])]),A(t("div",Ke,[n($,{text:"",class:"btn11",onClick:P=>k(r,e.subProblemList,e.options,e.problemId)},{default:o(()=>[h("取消")]),_:2},1032,["onClick"]),n($,{text:"",class:"btn21",onClick:P=>R(r,e.subProblemList,e.options,e.problemId)},{default:o(()=>[h("确认")]),_:2},1032,["onClick"])],512),[[j,F.value]])]))),128))]),We]),t("div",Xe,[t("div",Ye,[n($,{round:"",class:"set-other-btn1",onClick:d},{default:o(()=>[h("重新生成")]),_:1}),n($,{round:"",class:"set-other-btn2",onClick:s},{default:o(()=>[h("取消生成")]),_:1})])])])}}},tt=se(et,[["__scopeId","data-v-a6b8cc43"]]);const lt=B=>(oe("data-v-11d08fb5"),B=B(),ne(),B),ot={class:"bagProblemSet"},nt=lt(()=>t("svg",{width:"14",height:"9",viewBox:"0 0 14 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M6.94618 8.72168L0.0660894 0.055015L13.8263 0.0550137L6.94618 8.72168Z",fill:"#6666FF"})],-1)),st={class:"problemSet"},at={style:{position:"relative"}},it={style:{"margin-left":"1vw"}},dt={class:"optionsCon"},rt={class:"item-btns"},ct={class:"item-btns1"},ut=re('<div style="position:absolute;top:4.4vh;right:1vw;display:flex;" data-v-11d08fb5><div class="iconSet" data-v-11d08fb5><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-11d08fb5><circle cx="9" cy="9" r="8.5" fill="#D9D9D9" stroke="#6666FF" data-v-11d08fb5></circle><circle cx="12" cy="9" r="4" fill="#6666FF" data-v-11d08fb5></circle></svg></div><div class="iconSet" data-v-11d08fb5><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-11d08fb5><rect width="8" height="18" rx="2" fill="#D9D9D9" data-v-11d08fb5></rect><rect x="10" width="8" height="18" rx="2" fill="#6666FF" data-v-11d08fb5></rect></svg></div><div class="iconSet" data-v-11d08fb5><svg width="21" height="18" viewBox="0 0 21 18" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-11d08fb5><rect x="2.00391" width="18" height="18" fill="#D9D9D9" data-v-11d08fb5></rect><path d="M11.7786 8.04835L14.4971 1.50146L19.001 9.11892L11.7786 8.04835Z" fill="#6666FF" data-v-11d08fb5></path><path d="M9.22922 9.45263L6.51073 15.9995L2.00686 8.38206L9.22922 9.45263Z" fill="#6666FF" data-v-11d08fb5></path></svg></div></div>',1),vt={class:"control"},gt={class:"btns"},_t={__name:"BagProblemSet",setup(B){const _=z(),f=y(!1),v=(a,i)=>a+1+"."+i,T=()=>{_.getUserProblems()};X(()=>{T()});const F=(a,i,l)=>{f.value=!0,getText(a,i,l),judgeTopic(a,i,l,!0)},D=(a,i,l,I)=>{if(f.value=!1,judgeTopic(a,i,l,!1),document.getElementById("pQuestion"+a).innerText=originalp1.value,i){for(let S=0;S<i.length;S++)if(document.getElementById("pSelect"+a+S).innerText=originalp2.value[S],i[S].options)for(let d=0;d<i[S].options.length;d++)document.getElementById("pSelect"+a+S+d).innerText=originalp3.value[d]}if(l)for(let S=0;S<l.length;S++)document.getElementById("pSelect"+a+"_"+S).innerText=originalp4.value[S]},Q=async(a,i,l,I)=>{if(f.value=!1,document.getElementById("pQuestion"+a).contentEditable=!1,judgeTopic(a,i,l,!1),bodyP1.value=document.getElementById("pQuestion"+a).innerText.slice(2),bodyP.value=bodyP1.value,i){for(let s=0;s<i.length;s++)if(bodyP2.value[s]=document.getElementById("pSelect"+a+s).innerText,bodyP.value=bodyP.value+bodyP2.value[s]+`
`,i[s].options)for(let C=0;C<i[s].options.length;C++)bodyP3.value[C]=document.getElementById("pSelect"+a+s+C).innerText,bodyP.value=bodyP.value+bodyP3.value[C]}if(l)for(let s=0;s<l.length;s++)bodyP4.value[s]=document.getElementById("pSelect"+a+"_"+s).innerText,bodyP.value=bodyP.value+bodyP4.value[s];const S=bodyP.value.replace(/\\"/g,"");console.log("body是",S);const d=await reSetProblem(S,I);if(console.log("res:",d),document.getElementById("pQuestion"+a).innerText=a+1+"."+bodyP1.value,i){for(let s=0;s<i.length;s++)if(document.getElementById("pSelect"+a+s).innerText=bodyP2.value[s],i[s].options)for(let C=0;C<i[s].options.length;C++)document.getElementById("pSelect"+a+s+C).innerText=bodyP3.value[C]}if(l)for(let s=0;s<l.length;s++)document.getElementById("pSelect"+a+"_"+s).innerText=bodyP4.value[s];O.success(`${d.data.data}`)},q=de(),U=()=>{q.push("/personalTopic")},L=async a=>{try{const i=await ce(a);console.log(i.data),O.success("删除成功！"),_.getUserProblems()}catch(i){O.error("删除失败！",i)}};return(a,i)=>{const l=E("el-button"),I=E("el-tab-pane"),S=E("el-tabs");return c(),w("div",ot,[n(l,{class:"problemTitle",onClick:i[0]||(i[0]=d=>g(_).handelBag())},{default:o(()=>[nt,h(" 我的题库 ")]),_:1}),t("div",st,[n(S,{class:"demo-tabs"},{default:o(()=>[n(I,{label:"已有题目"},{default:o(()=>[(c(!0),w(V,null,x(g(_).userProblemList,(d,s)=>(c(),w("div",{class:"itemCon",key:d.data.problemId},[t("div",at,[t("p",it,G(v(s,d.data.body)),1)]),t("div",dt,[(c(!0),w(V,null,x(d.data.options,C=>(c(),w("p",{style:{"margin-left":"1vw"},class:"options-item",key:C},G(C),1))),128))]),t("div",rt,[n(l,{text:"",class:"btn1",onClick:C=>F(s,d.subProblemList,d.options)},{default:o(()=>[h("纠错")]),_:2},1032,["onClick"]),n(l,{text:"",class:"btn2",onClick:C=>L(d.data.problemId)},{default:o(()=>[h("删除")]),_:2},1032,["onClick"])]),A(t("div",ct,[n(l,{text:"",class:"btn11",onClick:C=>D(s,d.subProblemList,d.options,d.problemId)},{default:o(()=>[h("取消")]),_:2},1032,["onClick"]),n(l,{text:"",class:"btn21",onClick:C=>Q(s,d.subProblemList,d.options,d.problemId)},{default:o(()=>[h("确认")]),_:2},1032,["onClick"])],512),[[j,f.value]])]))),128))]),_:1}),n(I,{label:"组成标准试卷"},{default:o(()=>[h("组成标准试卷")]),_:1})]),_:1}),ut,t("div",vt,[t("div",gt,[n(l,{round:"",class:"set-other-btn2",onClick:a.reGenerateHandle},{default:o(()=>[h("直接封装")]),_:1},8,["onClick"]),n(l,{round:"",class:"set-other-btn2",onClick:U},{default:o(()=>[h("进入题库")]),_:1}),n(l,{round:"",class:"set-other-btn2",onClick:a.cancleHandle},{default:o(()=>[h("删除所有")]),_:1},8,["onClick"])])])])])}}},pt=se(_t,[["__scopeId","data-v-11d08fb5"]]);const mt={class:"selectAll"},ft={class:"content"},bt=t("img",{src:ve,style:{width:"1.93vw",height:"2.92vh"}},null,-1),ht={class:"content"},yt=t("img",{src:ge,style:{width:"2.07vw",height:"2.93vh"}},null,-1),wt={class:"content"},Ct=t("img",{src:_e,style:{width:"1.84vw",height:"2.89vh"}},null,-1),kt={class:"content"},$t=t("img",{src:pe,style:{width:"1.92vw",height:"3vh"}},null,-1),St={class:"content"},Pt=t("img",{src:me,style:{width:"1.92vw",height:"2.79vh"}},null,-1),It={class:"addButton"},Bt=t("img",{src:be,style:{width:"5.2vw",height:"9.2vh"}},null,-1),Tt=[Bt],Et={class:"first-show"},Vt={class:"else-show"},xt=["onClick"],Ft={class:"under"},Gt={class:"underRight"},Dt={class:"underRight2"},qt={style:{"padding-top":"1vh",display:"flex","align-items":"center","line-height":"1.1vh","font-size":"0.9vw"}},Ut=t("div",{style:{"font-weight":"600","margin-left":"0.2vw"}},"生成题目",-1),Lt=t("img",{src:ye,style:{position:"absolute",right:"1vw",top:"1vh"}},null,-1),Rt=[Lt],Ht=t("img",{class:"dragImg",src:we,alt:""},null,-1),jt={__name:"selectFilter",setup(B){const _=y(""),f=y(""),v=y(""),T=y(""),F=y(""),D=y(!1),Q=["region","subject","textbook"],q=y({}),U=[{value1:1,label1:"一年级"},{value1:2,label1:"二年级"},{value1:3,label1:"三年级"},{value1:4,label1:"四年级"},{value1:5,label1:"五年级"},{value1:6,label1:"六年级"},{value1:7,label1:"初一"},{value1:8,label1:"初二"},{value1:9,label1:"初三"},{value1:10,label1:"高一"},{value1:11,label1:"高二"},{value1:12,label1:"高三"}],L=[{value2:"上册",label2:"上册"},{value2:"下册",label2:"下册"}],a=y(),i=y(),l=z(),I=()=>{Q.forEach(async M=>{const u=await le(M);q.value[M]=u.data.data})},S=()=>{a.value.style.width=0,a.value.style.margin=0,a.value.style.overflow="hidden"},d=()=>{i.value.style.height=0,i.value.style.overflow="hidden",i.value.style.margin=0},s=()=>{D.value=!D.value},C=M=>{M?(l.isLoading&&(l.isLoading=!1),l.isShow=!0,D.value=!1):(l.isShow&&(l.isShow=!1),D.value=!1)},Z=M=>{l.isShow=!1;let u=l.totalGenerationProblem.length;for(let k=0;k<u;k++)if(l.totalGenerationProblem[k].generateId===M){l.currentItem=k;break}};return X(()=>{I()}),(M,u)=>{var $;const k=E("el-option"),R=E("el-select"),p=E("CaretLeft"),b=E("el-icon");return c(),w(V,null,[t("div",mt,[t("div",ft,[bt,n(R,{modelValue:_.value,"onUpdate:modelValue":u[0]||(u[0]=e=>_.value=e),onChange:u[1]||(u[1]=e=>g(l).getRegion(_.value)),class:"m-2 select1",placeholder:"请选择地点"},{default:o(()=>[(c(!0),w(V,null,x(q.value.region,e=>(c(),N(k,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),t("div",ht,[yt,n(R,{modelValue:f.value,"onUpdate:modelValue":u[2]||(u[2]=e=>f.value=e),onChange:u[3]||(u[3]=e=>g(l).getGrade(f.value)),class:"m-2 select1",placeholder:"请选择年级"},{default:o(()=>[(c(),w(V,null,x(U,e=>n(k,{key:e.value1,label:e.label1,value:e.value1},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),t("div",wt,[Ct,n(R,{modelValue:v.value,"onUpdate:modelValue":u[4]||(u[4]=e=>v.value=e),class:"m-2 select1",placeholder:"请选择上下册",onChange:u[5]||(u[5]=e=>g(l).getGenre(v.value))},{default:o(()=>[(c(),w(V,null,x(L,e=>n(k,{key:e.value2,label:e.label2,value:e.value2},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),t("div",kt,[$t,n(R,{modelValue:T.value,"onUpdate:modelValue":u[6]||(u[6]=e=>T.value=e),onChange:u[7]||(u[7]=e=>g(l).getSubject(T.value)),class:"m-2 select1",placeholder:"请选择学科"},{default:o(()=>[(c(!0),w(V,null,x(q.value.subject,e=>(c(),N(k,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),t("div",St,[Pt,n(R,{modelValue:F.value,"onUpdate:modelValue":u[8]||(u[8]=e=>F.value=e),onChange:u[9]||(u[9]=e=>g(l).getTextbook(F.value)),class:"m-2 select1",placeholder:"请选择教材版本"},{default:o(()=>[(c(!0),w(V,null,x(q.value.textbook,e=>(c(),N(k,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),t("div",It,[A(t("img",{onClick:s,src:fe,style:{width:"2.08vw",height:"3.7vh"}},null,512),[[j,!g(l).isLoading]]),A(t("div",{class:"addLarge",onClick:s},Tt,512),[[j,g(l).isLoading]]),t("div",null,[A(t("div",Et,[t("p",{class:"first-show-item active",onClick:u[10]||(u[10]=J(e=>C(""),["stop"]))},G(($=g(l).totalGenerationProblem[0])==null?void 0:$.title),1),t("p",{class:"first-show-item",onClick:u[11]||(u[11]=J(e=>C("add"),["stop"]))},"新增生成页面")],512),[[j,D.value&&g(l).totalGenerationProblem.length===1]]),A(t("div",Vt,[(c(!0),w(V,null,x(g(l).totalGenerationProblem,e=>(c(),w("p",{class:K(["else-show-item",{active:g(l).totalGenerationProblem[g(l).currentItem].generateId===e.generateId}]),key:e.generateId,onClick:r=>Z(e.generateId)},G(e.title),11,xt))),128)),A(t("p",{class:"else-show-item",onClick:u[12]||(u[12]=J(e=>C("add"),["stop"]))},"新增生成页面",512),[[j,g(l).totalGenerationProblem.length<5]])],512),[[j,D.value&&g(l).totalGenerationProblem.length>1]])])])]),t("div",Ft,[t("div",{class:"underLeft",ref_key:"underLeft",ref:a},[n(ue,{onHiddenEventL:S})],512),t("div",Gt,[t("div",{class:"underRight1",ref_key:"rightTop",ref:i},[n($e,{onHiddenEvent:d})],512),t("div",Dt,[t("div",qt,[t("div",null,[n(b,{style:{"margin-left":"0.42vw"}},{default:o(()=>[n(p)]),_:1})]),Ut,t("div",null,[A(t("img",{src:he,onClick:s,style:{position:"absolute",right:"1vw",top:"1vh"}},null,512),[[j,!g(l).isLoading]]),A(t("div",{class:"addLarge",onClick:s},Rt,512),[[j,g(l).isLoading]])])]),g(l).isShow?(c(),N(Ue,{key:0})):(c(),N(tt,{key:1}))]),t("div",{style:{position:"absolute",display:"inline-block",right:"0"},draggable:"true",onClick:u[13]||(u[13]=e=>g(l).handelBag())},[Ht,A(t("div",{class:K(["fz",[g(l).totalGenerationProblem.length>9?"rectangle":"circle"]])},G(g(l).totalGenerationProblem.length),3),[[j,g(l).totalGenerationProblem.length]])])])]),A(n(pt,null,null,512),[[j,g(l).isBagProblemSet]])],64)}}};export{jt as default};
