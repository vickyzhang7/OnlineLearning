import{r as g,v as J,o as le,c as P,x as oe,y as ne,h as o,f as c,g as i,d as u,e as m,F as T,z as V,q as _,i as z,j as h,t as F,A as W,k as ee,B as M,C as N,D as se,E as O,G as ae,H as ie,b as ue,I as ve,J as te,K as ge,L as K}from"./index-d47c4458.js";import{_ as pe}from"./LeftTopic-8ca22d94.js";import{_ as ce}from"./_plugin-vue_export-helper-c27b6911.js";const _e="/assets/position-9a305773.svg",me="/assets/grade-cd662436.svg",fe="/assets/volume-ad3e5f7d.svg",he="/assets/subject-056a070e.svg",be="/assets/version-21a63c9f.svg",ye="/assets/addButton-e6b62d34.svg",we="/assets/addLargeButton-ef7f2ee9.svg",Ce="/assets/beforeSwitch-e17756fd.svg",ke="/assets/switch-6bf66cb9.svg",$e="/assets/usebag-38c5e3ce.svg";const Se={style:{"padding-top":"1vh","padding-bottom":"1vh",display:"flex","align-items":"center","line-height":"1.1vh","font-size":"0.9vw"}},Ee=o("div",{style:{"font-weight":"600","margin-left":"0.2vw"}},"基础筛选",-1),Ie={__name:"RightTopTopic",setup(S,{emit:f}){const b=f,p=g({question:"",difficulty:"",time:"",scope:""}),I=g({questionType:""}),k={questionType:[{required:!0,message:"请选择题目具体类型",trigger:"change"}]},G=g([]),Q=g(),q={question:[{required:!0,message:"请选择题目类型",trigger:"change"}],difficulty:[{required:!0,message:"请选择难度",trigger:"change"}],time:[{required:!0,message:"请选择完成时间",trigger:"change"}],scope:[{required:!0,message:"请选择考核范围",trigger:"change"}]},U=J(),D=async()=>{await Q.value.validate(),U.getChecked(p.value.question,I.value.questionType,p.value.difficulty,p.value.time.split(",").map(r=>+r),p.value.scope)},C=async()=>{const r=await ne("range");G.value=r.data.data},x=()=>{b("hiddenEvent")};return le(()=>{C(),U.initSubject()}),(r,B)=>{const R=P("CaretLeft"),E=P("el-icon"),$=P("el-radio"),A=P("el-radio-group"),Z=P("el-form"),H=P("el-popover"),v=P("el-form-item");return oe(r.$slots,"default",{},()=>[o("div",Se,[o("div",null,[c(E,{onClick:x,style:{"margin-left":"0.42vw"}},{default:i(()=>[c(R)]),_:1})]),Ee]),c(Z,{model:p.value,rules:q,ref_key:"formRef",ref:Q,onChange:D},{default:i(()=>[c(v,{prop:"question",label:"题型类型："},{default:i(()=>[c(A,{modelValue:p.value.question,"onUpdate:modelValue":B[1]||(B[1]=w=>p.value.question=w)},{default:i(()=>[(u(!0),m(T,null,V(_(U).ProblemTypeData,w=>(u(),z($,{key:w.value,label:w.genre},{default:i(()=>[c(H,{placement:"bottom",trigger:"click",width:"auto","popper-class":"popoverStyle"},{reference:i(()=>[h(F(w.genre),1)]),default:i(()=>[c(Z,{model:I.value,rules:k},{default:i(()=>[c(A,{modelValue:I.value.questionType,"onUpdate:modelValue":B[0]||(B[0]=L=>I.value.questionType=L)},{default:i(()=>[(u(!0),m(T,null,V(w.typeNameList,L=>(u(),z($,{key:L.value,label:L,onChange:D},{default:i(()=>[h(F(L),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue"])]),_:2},1032,["model"])]),_:2},1024)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),c(v,{prop:"difficulty",label:"难度选择："},{default:i(()=>[c(A,{modelValue:p.value.difficulty,"onUpdate:modelValue":B[2]||(B[2]=w=>p.value.difficulty=w)},{default:i(()=>[c($,{label:"0"},{default:i(()=>[h("不限")]),_:1}),c($,{label:"1"},{default:i(()=>[h("容易")]),_:1}),c($,{label:"2"},{default:i(()=>[h("较易")]),_:1}),c($,{label:"3"},{default:i(()=>[h("适中")]),_:1}),c($,{label:"4"},{default:i(()=>[h("较难")]),_:1}),c($,{label:"5"},{default:i(()=>[h("困难")]),_:1})]),_:1},8,["modelValue"])]),_:1}),c(v,{prop:"time",label:"完成时间："},{default:i(()=>[c(A,{modelValue:p.value.time,"onUpdate:modelValue":B[3]||(B[3]=w=>p.value.time=w)},{default:i(()=>[c($,{label:"1, 3"},{default:i(()=>[h("1~3分钟")]),_:1}),c($,{label:"3, 5"},{default:i(()=>[h("3~5分钟")]),_:1}),c($,{label:"5, 10"},{default:i(()=>[h("5~10分钟")]),_:1})]),_:1},8,["modelValue"])]),_:1}),c(v,{prop:"scope",label:"考核范围："},{default:i(()=>[c(A,{modelValue:p.value.scope,"onUpdate:modelValue":B[4]||(B[4]=w=>p.value.scope=w)},{default:i(()=>[(u(!0),m(T,null,V(G.value,w=>(u(),z($,{key:w.value,label:w.value},{default:i(()=>[h(F(w.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])])}}},Be="/assets/loaddingImg-d826fe6b.svg";function Te(S){return{all:S=S||new Map,on:function(f,b){var p=S.get(f);p?p.push(b):S.set(f,[b])},off:function(f,b){var p=S.get(f);p&&(b?p.splice(p.indexOf(b)>>>0,1):S.set(f,[]))},emit:function(f,b){var p=S.get(f);p&&p.slice().map(function(I){I(b)}),(p=S.get("*"))&&p.slice().map(function(I){I(f,b)})}}}const X=Te();const Pe={style:{"margin-top":"10.7vh","text-align":"center"}},Ve={key:0,class:"mt-4 searchGen"},xe={key:1,class:"loadding-img"},Fe=o("img",{src:Be,style:{width:"16.7vw",height:"17vh"}},null,-1),Ge=o("div",{class:"loadding-content"},[o("p",null,"生成中...")],-1),De=[Fe,Ge],qe=o("div",{class:"dialog-content"},[o("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24ZM12.3197 5C13.0378 5 13.62 5.56281 13.62 6.3003C13.62 7.05719 13.0378 7.62 12.3197 7.62C11.5822 7.62 11 7.05719 11 6.3003C11 5.56281 11.5822 5 12.3197 5ZM11.3215 18.9077V9.45629C11.3215 8.95169 11.7752 8.6994 12.2729 8.6994C12.7527 8.6994 13.2243 8.95169 13.2243 9.45629V18.9077C13.2243 19.4317 12.7527 19.684 12.2729 19.684C11.7752 19.684 11.3215 19.4317 11.3215 18.9077Z",fill:"#6666FF"})]),o("span",null,"生成中")],-1),Ue=o("p",{class:"dialog-p"},"点击右上角符号进行多项业务同步生成同时查看同步生成的所有业务",-1),Le=o("div",{class:"bar"},null,-1),Qe={class:"dialog-footer"},Re={__name:"RightUnderTopic",setup(S){const f=J(),b=g(5);let p=g(0);const I=g(),k=g(),G=g(!0),Q=()=>{f.isLoading?(f.generateProblemCancel(),window.cancelAnimationFrame(p.value)):(f.isLarge=!0,f.generateClick(k.value),b.value=5,U())},q=()=>{f.isLarge=!1},U=()=>{p.value=window.requestAnimationFrame(function D(){b.value<32?(b.value+=.005,I.value.style.width=b.value+"vw",p.value=requestAnimationFrame(D)):(b.value=32,window.cancelAnimationFrame(p.value))})};return X.on("progress",U()),(D,C)=>{const x=P("el-tag"),r=P("el-button"),B=P("el-input"),R=P("el-dialog");return oe(D.$slots,"default",{},()=>[o("div",Pe,[(u(!0),m(T,null,V(_(f).checkedArr,E=>(u(),z(x,{key:E,class:"mx-1 tagStyle",closable:"","disable-transitions":!1,onClose:$=>_(f).handleClose(E),type:"info"},{default:i(()=>[h(F(E),1)]),_:2},1032,["onClose"]))),128)),(u(!0),m(T,null,V(_(f).tagArrTop,E=>(u(),z(x,{key:E,class:"mx-1 tagStyle",closable:"","disable-transitions":!1,onClose:$=>_(f).handleClose1(E),type:"info"},{default:i(()=>[h(F(E),1)]),_:2},1032,["onClose"]))),128))]),G.value?(u(),m("div",Ve,[c(B,{modelValue:k.value,"onUpdate:modelValue":C[0]||(C[0]=E=>k.value=E),placeholder:"请输入生成题目的关键词",class:"inputGen"},{append:i(()=>[c(r,{class:"buttonSet",onClick:Q},{default:i(()=>[h(F(_(f).isLoading?"取消生成":"开始生成"),1)]),_:1}),o("div",{class:W(["loaddingCon",{hiddenf:!_(f).isLoading}])},[o("div",{ref_key:"loaddingBar",ref:I,class:"loadding"},null,512)],2)]),_:1},8,["modelValue"])])):ee("",!0),_(f).isLoading?(u(),m("div",xe,De)):ee("",!0),c(R,{modal:!1,modelValue:_(f).dialogVisible,"onUpdate:modelValue":C[3]||(C[3]=E=>_(f).dialogVisible=E),width:"20.8vw","before-close":q,top:"55vh",class:"dialogSet"},{footer:i(()=>[o("span",Qe,[c(r,{class:"set-other-btn2",onClick:C[1]||(C[1]=E=>_(f).setDialogVisibleFlase())},{default:i(()=>[h("在当前生成页面等待")]),_:1}),c(r,{class:"set-other-btn1",onClick:C[2]||(C[2]=E=>_(f).setDialogVisibleFlase())},{default:i(()=>[h("同步生成")]),_:1})])]),default:i(()=>[qe,Ue,Le]),_:1},8,["modelValue"])])}}};const de=S=>(ae("data-v-64aa0b85"),S=S(),ie(),S),Ae={class:"container"},He={class:"innercon"},Me={class:"problem-body"},Ne=de(()=>o("svg",{width:"9",height:"10",viewBox:"0 0 9 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svvg"},[o("circle",{cx:"4.5",cy:"5",r:"4.5",fill:"#BDCEFC"})],-1)),Ze=["id"],ze={key:0,class:"subProblem"},je=["id"],Oe={class:"optionsCon"},Je=["id"],Ke={key:1,class:"optionsCon"},We=["id"],Xe={class:"item-btns"},Ye={class:"item-btns1"},et=de(()=>o("div",{class:"problem-analysis"},[o("div",{class:"split"})],-1)),tt={class:"control"},lt={class:"btns"},ot={__name:"ProblemShow",setup(S,{emit:f}){const b=J(),p=["一","二","三","四","五"],I=g(!0),k=g(!1),G=(t,n)=>t+1+"."+n,Q=g(""),q=g([]),U=g([]),D=g([]),C=g(""),x=g(""),r=g([]),B=g([]),R=g([]);g([]);const E=()=>{b.regenerate(),X.emit("progress"),X.emit("tip",I.value)},$=()=>{b.isShow=!b.isShow,b.totalGenerationProblem.splice(currentItem,1),b.currentItem=0},A=t=>{b.addUserProblems(t)},Z=(t,n,a,e)=>{if(document.getElementById("pQuestion"+t).contentEditable=e,n){for(let s=0;s<n.length;s++)if(document.getElementById("pSelect"+t+s).contentEditable=e,n[s].options)for(let d=0;d<n[s].options.length;d++)document.getElementById("pSelect"+t+s+d).contentEditable=e}if(a)for(let s=0;s<a.length;s++)document.getElementById("pSelect"+t+"_"+s).contentEditable=e},H=(t,n,a)=>{if(Q.value=document.getElementById("pQuestion"+t).innerText,n)for(let e=0;e<n.length;e++){const s=document.getElementById("pSelect"+t+e);if(q.value[e]=s.innerText,n[e].options)for(let d=0;d<n[e].options.length;d++){const l=document.getElementById("pSelect"+t+e+d);U.value[d]=l.innerText}}if(a)for(let e=0;e<a.length;e++){const s=document.getElementById("pSelect"+t+"_"+e);D.value[e]=s.innerText}},v=(t,n,a)=>{k.value=!0,H(t,n,a),Z(t,n,a,!0)},w=(t,n,a,e)=>{if(k.value=!1,Z(t,n,a,!1),document.getElementById("pQuestion"+t).innerText=Q.value,n){for(let s=0;s<n.length;s++)if(document.getElementById("pSelect"+t+s).innerText=q.value[s],n[s].options)for(let d=0;d<n[s].options.length;d++)document.getElementById("pSelect"+t+s+d).innerText=U.value[d]}if(a)for(let s=0;s<a.length;s++)document.getElementById("pSelect"+t+"_"+s).innerText=D.value[s]},L=async(t,n,a,e)=>{if(k.value=!1,document.getElementById("pQuestion"+t).contentEditable=!1,Z(t,n,a,!1),x.value=document.getElementById("pQuestion"+t).innerText.slice(2),C.value=x.value,n){for(let l=0;l<n.length;l++)if(r.value[l]=document.getElementById("pSelect"+t+l).innerText,C.value=C.value+r.value[l],n[l].options)for(let y=0;y<n[l].options.length;y++)B.value[y]=document.getElementById("pSelect"+t+l+y).innerText,C.value=C.value+B.value[y]}if(a)for(let l=0;l<a.length;l++)R.value[l]=document.getElementById("pSelect"+t+"_"+l).innerText,C.value=C.value+R.value[l];const s=C.value.replace(/\\"/g,"");console.log("body是",s);const d=await se(s,e);if(console.log("res:",d),document.getElementById("pQuestion"+t).innerText=t+1+"."+x.value,n){for(let l=0;l<n.length;l++)if(document.getElementById("pSelect"+t+l).innerText=r.value[l],n[l].options)for(let y=0;y<n[l].options.length;y++)document.getElementById("pSelect"+t+l+y).innerText=B.value[y]}if(a)for(let l=0;l<a.length;l++)document.getElementById("pSelect"+t+"_"+l).innerText=R.value[l];O.success(`${d.data.data}`)};return(t,n)=>{const a=P("el-button");return u(),m("div",Ae,[o("div",He,[o("div",Me,[(u(!0),m(T,null,V(_(b).totalGenerationProblem[_(b).currentItem].dataVO,(e,s)=>(u(),m("div",{class:"itemCon",key:e.problemId},[o("span",null,[Ne,h(" 生成结果"+F(p[s]),1)]),o("p",{class:"problem-p",id:"pQuestion"+s},F(G(s,e.body)),9,Ze),e.subProblemList?(u(),m("div",ze,[(u(!0),m(T,null,V(e.subProblemList,(d,l)=>(u(),m("div",{key:l},[o("p",{class:"problem-p",id:"pSelect"+s+l},F(d.body),9,je),o("div",Oe,[(u(!0),m(T,null,V(d.options,(y,j)=>(u(),m("p",{key:j,id:"pSelect"+s+l+j},F(y),9,Je))),128))])]))),128))])):(u(),m("div",Ke,[(u(!0),m(T,null,V(e.options,(d,l)=>(u(),m("p",{key:l,id:"pSelect"+s+"_"+l},F(d),9,We))),128))])),o("div",Xe,[c(a,{text:"",class:"btn1",onClick:d=>v(s,e.subProblemList,e.options)},{default:i(()=>[h("纠错")]),_:2},1032,["onClick"]),c(a,{text:"",class:"btn2",onClick:d=>A(e.problemId)},{default:i(()=>[h("加入题库")]),_:2},1032,["onClick"])]),M(o("div",Ye,[c(a,{text:"",class:"btn11",onClick:d=>w(s,e.subProblemList,e.options,e.problemId)},{default:i(()=>[h("取消")]),_:2},1032,["onClick"]),c(a,{text:"",class:"btn21",onClick:d=>L(s,e.subProblemList,e.options,e.problemId)},{default:i(()=>[h("确认")]),_:2},1032,["onClick"])],512),[[N,k.value]])]))),128))]),et]),o("div",tt,[o("div",lt,[c(a,{round:"",class:"set-other-btn1",onClick:E},{default:i(()=>[h("重新生成")]),_:1}),c(a,{round:"",class:"set-other-btn2",onClick:$},{default:i(()=>[h("取消生成")]),_:1})])])])}}},nt=ce(ot,[["__scopeId","data-v-64aa0b85"]]);const st=S=>(ae("data-v-8f7637c5"),S=S(),ie(),S),at={class:"bagProblemSet"},it=st(()=>o("svg",{width:"14",height:"9",viewBox:"0 0 14 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M6.94618 8.72168L0.0660894 0.055015L13.8263 0.0550137L6.94618 8.72168Z",fill:"#6666FF"})],-1)),ct={class:"problemSet"},dt={style:{position:"relative"}},rt=["id"],ut={key:0,class:"subProblem"},vt=["id"],gt={class:"optionsCon"},pt=["id"],_t={key:1,class:"optionsCon"},mt=["id"],ft={class:"item-btns"},ht={class:"item-btns1"},bt=ve('<div style="position:absolute;top:4.4vh;right:1vw;display:flex;" data-v-8f7637c5><div class="iconSet" data-v-8f7637c5><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-8f7637c5><circle cx="9" cy="9" r="8.5" fill="#D9D9D9" stroke="#6666FF" data-v-8f7637c5></circle><circle cx="12" cy="9" r="4" fill="#6666FF" data-v-8f7637c5></circle></svg></div><div class="iconSet" data-v-8f7637c5><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-8f7637c5><rect width="8" height="18" rx="2" fill="#D9D9D9" data-v-8f7637c5></rect><rect x="10" width="8" height="18" rx="2" fill="#6666FF" data-v-8f7637c5></rect></svg></div><div class="iconSet" data-v-8f7637c5><svg width="21" height="18" viewBox="0 0 21 18" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-8f7637c5><rect x="2.00391" width="18" height="18" fill="#D9D9D9" data-v-8f7637c5></rect><path d="M11.7786 8.04835L14.4971 1.50146L19.001 9.11892L11.7786 8.04835Z" fill="#6666FF" data-v-8f7637c5></path><path d="M9.22922 9.45263L6.51073 15.9995L2.00686 8.38206L9.22922 9.45263Z" fill="#6666FF" data-v-8f7637c5></path></svg></div></div>',1),yt={class:"control"},wt={class:"btns"},Ct={__name:"BagProblemSet",setup(S){const f=g(""),b=g([]),p=g([]),I=g([]),k=g(""),G=g(""),Q=g([]),q=g([]),U=g([]),D=J(),C=g(!1);let x=[];const r=(t,n)=>t+1+"."+n,B=(t,n,a)=>{if(f.value=document.getElementById("pQuestion"+t).innerText,n)for(let e=0;e<n.length;e++){const s=document.getElementById("pSelect"+t+e);if(b.value[e]=s.innerText,n[e].options)for(let d=0;d<n[e].options.length;d++){const l=document.getElementById("pSelect"+t+e+d);p.value[d]=l.innerText}}if(a)for(let e=0;e<a.length;e++){const s=document.getElementById("pSelect"+t+"_"+e);I.value[e]=s.innerText}},R=(t,n,a,e)=>{if(document.getElementById("pQuestion"+t).contentEditable=e,n){for(let s=0;s<n.length;s++)if(document.getElementById("pSelect"+t+s).contentEditable=e,n[s].options)for(let d=0;d<n[s].options.length;d++)document.getElementById("pSelect"+t+s+d).contentEditable=e}if(a)for(let s=0;s<a.length;s++)document.getElementById("pSelect"+t+"_"+s).contentEditable=e},E=(t,n,a)=>{C.value=!0,B(t,n,a),R(t,n,a,!0)},$=(t,n,a)=>{if(C.value=!1,R(t,n,a,!1),document.getElementById("pQuestion"+t).innerText=f.value,n){for(let e=0;e<n.length;e++)if(document.getElementById("pSelect"+t+e).innerText=b.value[e],n[e].options)for(let s=0;s<n[e].options.length;s++)document.getElementById("pSelect"+t+e+s).innerText=p.value[s]}if(a)for(let e=0;e<a.length;e++)document.getElementById("pSelect"+t+"_"+e).innerText=I.value[e]},A=async(t,n,a,e)=>{if(C.value=!1,document.getElementById("pQuestion"+t).contentEditable=!1,R(t,n,a,!1),G.value=document.getElementById("pQuestion"+t).innerText.slice(2),k.value=G.value,n){for(let l=0;l<n.length;l++)if(Q.value[l]=document.getElementById("pSelect"+t+l).innerText,k.value=k.value+Q.value[l],n[l].options)for(let y=0;y<n[l].options.length;y++)q.value[y]=document.getElementById("pSelect"+t+l+y).innerText,k.value=k.value+q.value[y]}if(a)for(let l=0;l<a.length;l++)U.value[l]=document.getElementById("pSelect"+t+"_"+l).innerText,k.value=k.value+U.value[l];const s=k.value.replace(/\\"/g,""),d=await se(s,e);if(document.getElementById("pQuestion"+t).innerText=t+1+"."+G.value,n){for(let l=0;l<n.length;l++)if(document.getElementById("pSelect"+t+l).innerText=Q.value[l],n[l].options)for(let y=0;y<n[l].options.length;y++)document.getElementById("pSelect"+t+l+y).innerText=q.value[y]}if(a)for(let l=0;l<a.length;l++)document.getElementById("pSelect"+t+"_"+l).innerText=U.value[l];O.success(`${d.data.data}`)},Z=ue(),H=()=>{Z.push("/personalTopic")},v=()=>{try{x=[],D.userProblemList.forEach(t=>{x.push(t.data.problemId)}),x.length>0?(x.forEach(async t=>{const n=await te(t);D.getUserProblems()}),O.success("删除成功！")):O.error("无可删除内容！")}catch(t){O.error("删除失败！",t)}},w=async()=>{const n=(await ge()).data.data;console.log("1111",n);let a="";n.forEach((e,s)=>{let d=s+1;a=a+d+"."+e.body,e.subProblemList?e.subProblemList.forEach(l=>{a=a+l.body+l.options}):e.options&&(a=a+e.options)}),console.log("2222",a)},L=async t=>{try{const n=await te(t);console.log(n.data),O.success("删除成功！"),D.getUserProblems()}catch(n){O.error("删除失败！",n)}};return(t,n)=>{const a=P("el-button"),e=P("el-tab-pane"),s=P("el-tabs");return u(),m("div",at,[c(a,{class:"problemTitle",onClick:n[0]||(n[0]=d=>_(D).handelBag())},{default:i(()=>[it,h(" 我的题库 ")]),_:1}),o("div",ct,[c(s,{class:"demo-tabs"},{default:i(()=>[c(e,{label:"已有题目"},{default:i(()=>[o("div",null,[(u(!0),m(T,null,V(_(D).userProblemList,(d,l)=>(u(),m("div",{class:"itemCon",key:d.data.problemId},[o("div",dt,[o("p",{style:{"margin-left":"1vw","margin-bottom":"1vh"},id:"pQuestion"+l},F(r(l,d.data.body)),9,rt)]),d.data.subProblemList?(u(),m("div",ut,[(u(!0),m(T,null,V(d.data.subProblemList,(y,j)=>(u(),m("div",{key:j},[o("p",{class:"problem-p",style:{"margin-left":"1vw"},id:"pSelect"+l+j},F(y.body),9,vt),o("div",gt,[(u(!0),m(T,null,V(y.options,(re,Y)=>(u(),m("p",{key:Y,style:{"margin-left":"1vw"},id:"pSelect"+l+j+Y},F(re),9,pt))),128))])]))),128))])):(u(),m("div",_t,[(u(!0),m(T,null,V(d.data.options,(y,j)=>(u(),m("p",{style:{"margin-left":"1vw"},class:"options-item",key:j,id:"pSelect"+l+"_"+j},F(y),9,mt))),128))])),o("div",ft,[c(a,{text:"",class:"btn1",onClick:y=>E(l,d.data.subProblemList,d.data.options)},{default:i(()=>[h("纠错")]),_:2},1032,["onClick"]),c(a,{text:"",class:"btn2",onClick:y=>L(d.data.problemId)},{default:i(()=>[h("删除")]),_:2},1032,["onClick"])]),M(o("div",ht,[c(a,{text:"",class:"btn11",onClick:y=>$(l,d.data.subProblemList,d.data.options)},{default:i(()=>[h("取消")]),_:2},1032,["onClick"]),c(a,{text:"",class:"btn21",onClick:y=>A(l,d.data.subProblemList,d.data.options,d.data.problemId)},{default:i(()=>[h("确认")]),_:2},1032,["onClick"])],512),[[N,C.value]])]))),128))])]),_:1}),c(e,{label:"组成标准试卷"},{default:i(()=>[h("组成标准试卷")]),_:1})]),_:1}),bt,o("div",yt,[o("div",wt,[c(a,{round:"",class:"set-other-btn1",onClick:t.reGenerateHandle},{default:i(()=>[h("直接封装")]),_:1},8,["onClick"]),c(a,{round:"",class:"set-other-btn2",onClick:n[1]||(n[1]=d=>w())},{default:i(()=>[h("复制全部")]),_:1}),c(a,{round:"",class:"set-other-btn2",onClick:H},{default:i(()=>[h("进入题库")]),_:1}),c(a,{round:"",class:"set-other-btn2",onClick:v},{default:i(()=>[h("删除所有")]),_:1})])])])])}}},kt=ce(Ct,[["__scopeId","data-v-8f7637c5"]]);const $t={class:"selectAll"},St={class:"content"},Et=o("img",{src:_e,style:{width:"1.93vw",height:"2.92vh"}},null,-1),It={class:"content"},Bt=o("img",{src:me,style:{width:"2.07vw",height:"2.93vh"}},null,-1),Tt={class:"content"},Pt=o("img",{src:fe,style:{width:"1.84vw",height:"2.89vh"}},null,-1),Vt={class:"content"},xt=o("img",{src:he,style:{width:"1.92vw",height:"3vh"}},null,-1),Ft={class:"content"},Gt=o("img",{src:be,style:{width:"1.92vw",height:"2.79vh"}},null,-1),Dt={class:"addButton"},qt=o("img",{src:we,style:{width:"5.2vw",height:"9.2vh"}},null,-1),Ut=[qt],Lt={class:"first-show"},Qt={class:"else-show"},Rt=["onClick"],At={class:"under"},Ht={class:"underRight"},Mt={class:"underRight2"},Nt={style:{"padding-top":"1vh",display:"flex","align-items":"center","line-height":"1.1vh","font-size":"0.9vw"}},Zt=o("div",{style:{"font-weight":"600","margin-left":"0.2vw"}},"生成题目",-1),zt=o("img",{src:ke,style:{position:"absolute",right:"1vw",top:"1vh"}},null,-1),jt=[zt],Ot=o("img",{class:"dragImg",src:$e,alt:""},null,-1),Xt={__name:"selectFilter",setup(S){const f=g(""),b=g(""),p=g(""),I=g(""),k=g(""),G=g(!1),Q=["region","subject","textbook"],q=g({}),U=[{value1:1,label1:"一年级"},{value1:2,label1:"二年级"},{value1:3,label1:"三年级"},{value1:4,label1:"四年级"},{value1:5,label1:"五年级"},{value1:6,label1:"六年级"},{value1:7,label1:"初一"},{value1:8,label1:"初二"},{value1:9,label1:"初三"},{value1:10,label1:"高一"},{value1:11,label1:"高二"},{value1:12,label1:"高三"}],D=[{value2:"上册",label2:"上册"},{value2:"下册",label2:"下册"}],C=g(),x=g(),r=J(),B=()=>{Q.forEach(async H=>{const v=await ne(H);q.value[H]=v.data.data})},R=()=>{C.value.style.width=0,C.value.style.margin=0,C.value.style.overflow="hidden"},E=()=>{x.value.style.height=0,x.value.style.overflow="hidden",x.value.style.margin=0},$=()=>{G.value=!G.value},A=H=>{H?(r.isLoading&&(r.isLoading=!1),r.isShow=!0,G.value=!1):(r.isShow&&(r.isShow=!1),G.value=!1)},Z=H=>{r.isShow=!1;let v=r.totalGenerationProblem.length;for(let w=0;w<v;w++)if(r.totalGenerationProblem[w].generateId===H){r.currentItem=w;break}};return le(()=>{B()}),(H,v)=>{var a;const w=P("el-option"),L=P("el-select"),t=P("CaretLeft"),n=P("el-icon");return u(),m(T,null,[o("div",$t,[o("div",St,[Et,c(L,{modelValue:f.value,"onUpdate:modelValue":v[0]||(v[0]=e=>f.value=e),onChange:v[1]||(v[1]=e=>_(r).getRegion(f.value)),class:"m-2 select1",placeholder:"请选择地点"},{default:i(()=>[(u(!0),m(T,null,V(q.value.region,e=>(u(),z(w,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),o("div",It,[Bt,c(L,{modelValue:b.value,"onUpdate:modelValue":v[2]||(v[2]=e=>b.value=e),onChange:v[3]||(v[3]=e=>_(r).getGrade(b.value)),class:"m-2 select1",placeholder:"请选择年级"},{default:i(()=>[(u(),m(T,null,V(U,e=>c(w,{key:e.value1,label:e.label1,value:e.value1},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),o("div",Tt,[Pt,c(L,{modelValue:p.value,"onUpdate:modelValue":v[4]||(v[4]=e=>p.value=e),class:"m-2 select1",placeholder:"请选择上下册",onChange:v[5]||(v[5]=e=>_(r).getGenre(p.value))},{default:i(()=>[(u(),m(T,null,V(D,e=>c(w,{key:e.value2,label:e.label2,value:e.value2},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),o("div",Vt,[xt,c(L,{modelValue:I.value,"onUpdate:modelValue":v[6]||(v[6]=e=>I.value=e),onChange:v[7]||(v[7]=e=>_(r).getSubject(I.value)),class:"m-2 select1",placeholder:"请选择学科"},{default:i(()=>[(u(!0),m(T,null,V(q.value.subject,e=>(u(),z(w,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),o("div",Ft,[Gt,c(L,{modelValue:k.value,"onUpdate:modelValue":v[8]||(v[8]=e=>k.value=e),onChange:v[9]||(v[9]=e=>_(r).getTextbook(k.value)),class:"m-2 select1",placeholder:"请选择教材版本"},{default:i(()=>[(u(!0),m(T,null,V(q.value.textbook,e=>(u(),z(w,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),o("div",Dt,[M(o("img",{onClick:$,src:ye,style:{width:"2.08vw",height:"3.7vh"}},null,512),[[N,!_(r).isLoading]]),M(o("div",{class:"addLarge",onClick:$},Ut,512),[[N,_(r).isLoading]]),o("div",null,[M(o("div",Lt,[o("p",{class:"first-show-item active",onClick:v[10]||(v[10]=K(e=>A(""),["stop"]))},F((a=_(r).totalGenerationProblem[0])==null?void 0:a.title),1),o("p",{class:"first-show-item",onClick:v[11]||(v[11]=K(e=>A("add"),["stop"]))},"新增生成页面")],512),[[N,G.value&&_(r).totalGenerationProblem.length===1]]),M(o("div",Qt,[(u(!0),m(T,null,V(_(r).totalGenerationProblem,e=>(u(),m("p",{class:W(["else-show-item",{active:_(r).totalGenerationProblem[_(r).currentItem].generateId===e.generateId}]),key:e.generateId,onClick:s=>Z(e.generateId)},F(e.title),11,Rt))),128)),M(o("p",{class:"else-show-item",onClick:v[12]||(v[12]=K(e=>A("add"),["stop"]))},"新增生成页面",512),[[N,_(r).totalGenerationProblem.length<5]])],512),[[N,G.value&&_(r).totalGenerationProblem.length>1]])])])]),o("div",At,[o("div",{class:"underLeft",ref_key:"underLeft",ref:C},[c(pe,{onHiddenEventL:R})],512),o("div",Ht,[o("div",{class:"underRight1",ref_key:"rightTop",ref:x},[c(Ie,{onHiddenEvent:E})],512),o("div",Mt,[o("div",Nt,[o("div",null,[c(n,{style:{"margin-left":"0.42vw"}},{default:i(()=>[c(t)]),_:1})]),Zt,o("div",null,[M(o("img",{src:Ce,onClick:$,style:{position:"absolute",right:"1vw",top:"1vh"}},null,512),[[N,!_(r).isLoading]]),M(o("div",{class:"addLarge",onClick:$},jt,512),[[N,_(r).isLoading]])])]),_(r).isShow?(u(),z(Re,{key:0})):(u(),z(nt,{key:1}))]),o("div",{style:{position:"absolute",display:"inline-block",right:"0"},draggable:"true",onClick:v[13]||(v[13]=e=>_(r).handelBag())},[Ot,M(o("div",{class:W(["fz",[_(r).totalGenerationProblem.length>9?"rectangle":"circle"]])},F(_(r).totalGenerationProblem.length),3),[[N,_(r).totalGenerationProblem.length]])])])]),M(c(kt,null,null,512),[[N,_(r).isBagProblemSet]])],64)}}};export{Xt as default};
