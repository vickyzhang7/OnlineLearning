import{v as Z,r as i,J as O,c as b,d as m,i as K,G as E,H as B,h as e,f as t,B as F,g as c,j as p,I as A,T as te,K as se,E as D,C as R,D as q,o as J,e as y,t as T,F as M,A as U,y as le,L as oe,b as ne,q as j,M as ae,N as ie,O as ce}from"./index-a2849ebe.js";import{_ as de}from"./LeftTopic-992167be.js";import{_ as z}from"./_plugin-vue_export-helper-c27b6911.js";const V=a=>(R("data-v-58feef75"),a=a(),q(),a),re=["onClick"],ue={class:"content"},_e=V(()=>e("p",{class:"title"},"新建试题卷",-1)),me={class:"item1"},pe=V(()=>e("p",{class:"item-title"},"试卷类型",-1)),ve={class:"item1-container"},fe=V(()=>e("p",null,"类型一期末考试",-1)),he={class:"item1-item item1-item1"},ye=V(()=>e("span",null,null,-1)),be=V(()=>e("div",null,[e("p",null,"类型二期中考试"),e("div",{class:"item1-item item1-item2"})],-1)),ge=V(()=>e("div",null,[e("p",null,"类型三自定义"),e("div",{class:"item1-item item1-item3"})],-1)),we={class:"item2"},Ce=V(()=>e("p",{class:"item-title"},"试卷抬头设置",-1)),ke={class:"item3"},$e=V(()=>e("p",{class:"item-title"},"抬头样式",-1)),Se={class:"item3-container"},xe=V(()=>e("p",null,"居中",-1)),Ve=[xe],Pe=V(()=>e("p",null,"左对齐",-1)),Le=[Pe],Ie={__name:"AddProblemSet",props:["isShow"],setup(a,{emit:x}){const s=Z(),f=i(),r=a,h=i(1),g=i(""),l=i("");O(()=>h.value+"");const C=x,P=()=>{C("update:isShow",!1)},u=k=>{l.value=k},d=async()=>{try{const k=await se({format:l.value,title:g.value});D.success("添加题集成功！")}catch(k){D.error("添加题集失败！",k.msg)}finally{s.getUserProblemSetList(),C("update:isShow",!1)}};return(k,w)=>{const L=b("el-slider"),$=b("el-input"),v=b("el-button");return m(),K(te,{to:"body"},[E(e("div",{class:"container",onClick:A(P,["self"])},[e("div",ue,[_e,e("div",me,[pe,e("div",ve,[e("div",null,[fe,e("div",he,[e("div",null,[ye,t(L,{ref_key:"silder",ref:f,modelValue:h.value,"onUpdate:modelValue":w[0]||(w[0]=_=>h.value=_)},null,8,["modelValue"])])])]),be,ge])]),e("div",we,[Ce,t($,{modelValue:g.value,"onUpdate:modelValue":w[1]||(w[1]=_=>g.value=_),placeholder:"例：成都七中初二年级期中考试"},null,8,["modelValue"])]),e("div",ke,[$e,e("div",Se,[e("div",{class:F(["item3-item",{active:l.value==="CENTER"}]),onClick:w[2]||(w[2]=_=>u("CENTER"))},Ve,2),e("div",{class:F(["item3-item",{active:l.value==="LEFT_ALIGN"}]),onClick:w[3]||(w[3]=_=>u("LEFT_ALIGN"))},Le,2)])]),t(v,{onClick:d,class:"btn"},{default:c(()=>[p("确认")]),_:1})])],8,re),[[B,r.isShow]])])}}},Te=z(Ie,[["__scopeId","data-v-58feef75"]]);const Q=a=>(R("data-v-0b53b4c7"),a=a(),q(),a),He={class:"container"},Ne={style:{display:"flex"}},De={class:"tiem-content"},Ae=Q(()=>e("span",{style:{position:"absolute",right:"2vw"}},[e("svg",{width:"14",height:"9",viewBox:"0 0 14 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{opacity:"0.4",d:"M6.97125 9L0.0688964 0.333333L13.8736 0.333334L6.97125 9Z",fill:"#25313D"})])],-1)),Ee=["onClick"],Be={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Me=["fill"],Ue={class:"tiem-content"},Fe=Q(()=>e("span",{style:{position:"absolute",right:"2vw"}},[e("svg",{width:"14",height:"9",viewBox:"0 0 14 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{opacity:"0.4",d:"M6.97125 9L0.0688964 0.333333L13.8736 0.333334L6.97125 9Z",fill:"#25313D"})])],-1)),Ze={__name:"ProblemTopSelect",setup(a){const x=Z(),s=i(0),f=i(),r=i(!1),h=i([]),g={0:"不限",7:"近7天",15:"近十五天"},l=i({time:null,type:null,questionType:null,recentDay:null,showAnalysis:!0}),C=o=>o.getTime()>Date.now(),P=i(),u=i(),d=i(!1),k=()=>{d.value?(u.value.style.display="none",d.value=!1):(u.value.style.display="flex",d.value=!0)},w=()=>{r.value=!r.value},L=o=>{l.value.showAnalysis=o,N()},$=o=>{s.value=o,N(),u.value.style.display="none",d.value=!1,console.log(s.value)},v=()=>{P.value.focus()},_=()=>{N(),u.value.style.display="none",d.value=!1},N=()=>{x.getSearchUserProblems({genre:l.value.type,recentDays:g[s.value]?s.value:null,date:g[s.value]?null:s.value,showAnalysis:l.value.showAnalysis,topicList:null})},I=async()=>{const o=await le("English");h.value=o.data.data};return J(()=>{I()}),(o,n)=>{const H=b("el-date-picker"),G=b("el-form-item"),W=b("el-radio"),X=b("el-radio-group"),ee=b("el-form");return m(),y("div",He,[t(ee,{model:l.value,ref:"formRef",onChange:N},{default:c(()=>[e("div",Ne,[t(G,{prop:"time",label:"生成时间："},{default:c(()=>[e("div",{class:"time-select",onClick:k},[e("p",De,[e("span",null,T(g[s.value]||s.value),1),Ae]),e("div",{class:"select-item",ref_key:"selectItem",ref:u},[e("p",{class:F(["item-p p1",{active:s.value===0}]),onClick:n[0]||(n[0]=A(S=>$(0),["stop"]))}," 不限 ",2),e("p",{class:F(["item-p p2",{active:s.value===7}]),onClick:n[1]||(n[1]=A(S=>$(7),["stop"]))}," 近7天 ",2),e("p",{class:F(["item-p p2",{active:s.value===15}]),onClick:n[2]||(n[2]=A(S=>$(15),["stop"]))}," 近15天 ",2),e("p",{class:"item-p p3",onClick:A(v,["stop"])},[(m(),y("svg",Be,[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.5385 5H6.46154C5.10207 5 4 6.04467 4 7.33333V16.6667C4 17.9553 5.10207 19 6.46154 19H17.5385C18.8979 19 20 17.9553 20 16.6667V7.33333C20 6.04467 18.8979 5 17.5385 5ZM12 12H13V14H12V12ZM15 12H16V14H15V12ZM18.6272 17.6653C18.8659 17.4509 19 17.1602 19 16.8571V10H5V16.8571C5 17.1602 5.13409 17.4509 5.37277 17.6653C5.61146 17.8796 5.93518 18 6.27273 18H17.7273C18.0648 18 18.3885 17.8796 18.6272 17.6653ZM19 9H5V7C5 6.73478 5.13409 6.48043 5.37277 6.29289C5.61146 6.10536 5.93518 6 6.27273 6H17.7273C18.0648 6 18.3885 6.10536 18.6272 6.29289C18.8659 6.48043 19 6.73478 19 7V9ZM8 12H9V14H8V12Z",fill:g[s.value]?"#A6A6A6":"#000"},null,8,Me)])),t(H,{ref_key:"datePicker",ref:P,onChange:_,modelValue:s.value,"onUpdate:modelValue":n[3]||(n[3]=S=>s.value=S),type:"date","disabled-date":C,class:"timnePickCSS","value-format":"YYYY-MM-DD","popper-class":"date_form"},null,8,["modelValue"])],8,Ee)],512)])]),_:1}),t(G,{prop:"time",label:"展示分析："},{default:c(()=>[e("div",{class:"analysis-select",onClick:w},[e("p",Ue,[e("span",null,T(l.value.showAnalysis?"是":"否"),1),Fe]),E(e("div",{class:"analysis-select-item",ref_key:"analysisSelectItem",ref:f},[e("p",{style:{cursor:"pointer"},onClick:n[4]||(n[4]=S=>L(!0)),class:"a-p"},"是"),e("p",{style:{cursor:"pointer"},onClick:n[5]||(n[5]=S=>L(!1)),class:"a-p"},"否")],512),[[B,r.value]])])]),_:1})]),t(G,{prop:"type",label:"生成题型："},{default:c(()=>[t(X,{modelValue:l.value.type,"onUpdate:modelValue":n[6]||(n[6]=S=>l.value.type=S)},{default:c(()=>[(m(!0),y(M,null,U(h.value,S=>(m(),K(W,{key:S.value,label:S.genre},null,8,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])])}}},Re=z(Ze,[["__scopeId","data-v-0b53b4c7"]]);const Y=a=>(R("data-v-e61d2616"),a=a(),q(),a),qe={class:"container"},ze={class:"select-container"},Ye=Y(()=>e("div",{class:"split-bar"},null,-1)),Ge={class:"innercon"},je={class:"problem-body"},Ke=Y(()=>e("span",{class:"title"},"试题集",-1)),Je={style:{position:"relative"}},Oe={style:{"margin-left":"1vw"}},Qe={class:"optionsCon"},We={class:"problem-list"},Xe=Y(()=>e("span",{class:"title"},"习题集",-1)),et={class:"list-content"},tt={class:"problem-set-title"},st={class:"problem-set-main"},lt={class:"item-title"},ot={class:"item-content"},nt={style:{color:"#6666ff"}},at=Y(()=>e("div",{class:"split"},null,-1)),it={class:"control"},ct={class:"btns"},dt={class:"btns"},rt={class:"problem-set-select"},ut=["onClick"],_t={__name:"Problems",setup(a){oe(v=>({"7f3573ff":x.value})),ne();const x=O(()=>"-"+l.problemSetList.length*3+"vh"),s=i(!1),f=i(!1),r=i(!1),h={1:"一",2:"二",3:"三",4:"四",5:"五"},g=[{id:1,title:"填空",currentNum:10,maxNum:15},{id:2,title:"写作",currentNum:1,maxNum:2},{id:3,title:"听力",currentNum:10,maxNum:15},{id:4,title:"阅读",currentNum:3,maxNum:4},{id:5,title:"完形",currentNum:3,maxNum:4}];i({time:null,type:null,questionType:null,recentDay:null,showAnalysis:!0});const l=Z();let C=[];const P=(v,_)=>v+1+"."+_.slice(3),u=()=>{C=[],l.userProblemList.forEach(v=>{v.isSelet&&C.push(v.data.problemId)}),console.log(l.userProblemList),console.log(C),C.length?r.value=!0:D.error("请选择题目！")},d=()=>{try{C.forEach(async v=>{const _=await ae(v);console.log(_.data),D.success("删除成功！"),l.getUserProblems()})}catch(v){D.error("删除失败！",v)}finally{r.value=!1}},k=()=>{s.value=!s.value},w=()=>{l.getUserProblemSetList()},L=()=>{f.value=!f.value},$=v=>{try{C.forEach(async _=>{const N=await ie({problemId:_,problemSetSeqNum:v});D.success("添加成功！")})}catch{D.error("删除失败！")}finally{f.value=!1}};return J(()=>{w()}),(v,_)=>{const N=b("el-checkbox"),I=b("el-button");return m(),y("div",qe,[e("div",ze,[t(Re),Ye]),e("div",Ge,[e("div",je,[Ke,(m(!0),y(M,null,U(j(l).userProblemList,(o,n)=>(m(),y("div",{class:"itemCon",key:o.data.problemId},[e("div",Je,[t(N,{style:{position:"absolute",top:"-0.2vh"},modelValue:o.isSelet,"onUpdate:modelValue":H=>o.isSelet=H},null,8,["modelValue","onUpdate:modelValue"]),e("p",Oe,T(P(n,o.data.body)),1)]),e("div",Qe,[(m(!0),y(M,null,U(o.data.options,H=>(m(),y("p",{class:"options-item",key:H},T(H),1))),128))])]))),128))]),e("div",We,[Xe,e("div",et,[t(I,{onClick:L,class:"newlist"},{default:c(()=>[p("新建试题集")]),_:1}),(m(!0),y(M,null,U(j(l).problemSetList,o=>(m(),y("div",{class:"problem-set-content",key:o.problemSetId},[e("p",tt,"题集："+T(o.problemSetId),1),e("div",st,[(m(),y(M,null,U(g,(n,H)=>e("div",{class:"main-item",key:n.id},[e("div",lt,T(n.title),1),e("div",ot,[p(" ("),e("span",nt,T(n.currentNum),1),p("/"+T(n.maxNum)+") ",1)])])),64)),t(I,{class:"main-item-btn"},{default:c(()=>[p("查看")]),_:1})])]))),128))]),at])]),e("div",it,[E(e("div",ct,[t(I,{round:"",class:"set-other-btn2",onClick:u},{default:c(()=>[p("批量处理")]),_:1}),t(I,{round:"",class:"set-other-btn2",onClick:k},{default:c(()=>[p("习题封装")]),_:1})],512),[[B,!r.value]]),E(e("div",dt,[t(I,{class:"set-other-btn1",onClick:d},{default:c(()=>[p(" 删除 ")]),_:1}),t(I,{class:"set-other-btn1",onClick:_[0]||(_[0]=o=>r.value=!1)},{default:c(()=>[p(" 取消 ")]),_:1}),t(I,{class:"set-other-btn1",onClick:A(k,["stop"])},{default:c(()=>[p(" 编入题集 ")]),_:1},8,["onClick"]),E(e("div",rt,[(m(!0),y(M,null,U(j(l).problemSetList,(o,n)=>(m(),y("p",{class:"select-item",key:o,onClick:A(H=>$(o),["stop"])}," 题集"+T(h[n+1]),9,ut))),128))],512),[[B,s.value]])],512),[[B,r.value]])]),t(Te,{isShow:f.value,"onUpdate:isShow":_[1]||(_[1]=o=>f.value=o)},null,8,["isShow"])])}}},mt=z(_t,[["__scopeId","data-v-e61d2616"]]),pt={__name:"ProblemsTest",setup(a){const x=i();return(s,f)=>{const r=b("el-option"),h=b("el-select");return m(),y("div",null,[t(h,{modelValue:x.value,"onUpdate:modelValue":f[0]||(f[0]=g=>x.value=g),class:"m-2",placeholder:"Select",size:"small"},{default:c(()=>[t(r,null,{default:c(()=>[p("1")]),_:1}),t(r,null,{default:c(()=>[p("1")]),_:1}),t(r,null,{default:c(()=>[p("1")]),_:1}),t(r,null,{default:c(()=>[p("1")]),_:1})]),_:1},8,["modelValue"])])}}};const vt=a=>(R("data-v-75658987"),a=a(),q(),a),ft={class:"under"},ht={style:{"margin-top":"1vh",display:"flex","align-items":"center","line-height":"1.1vh","font-size":"0.9vw"}},yt=vt(()=>e("div",{style:{"font-weight":"600","margin-left":"0.2vw"}},"生成参考",-1)),bt={class:"underRight"},gt={class:"change-com"},wt={class:"btns"},Ct={class:"btn1"},kt={class:"btn2"},$t={class:"content"},St={__name:"personalTopic",setup(a){const x=Z(),s=i("problems"),f=i(!0),r=i(!1),h=i(),g=()=>{f.value=!0,r.value=!1;const u=document.getElementById("know"),d=document.getElementById("text");u.style.color="#6666FF",d.style.color="#000000"},l=()=>{f.value=!1,r.value=!0;const u=document.getElementById("know"),d=document.getElementById("text");u.style.color="#000000",d.style.color="#6666FF"},C=()=>{h.value.style.width=0,h.value.style.margin=0,h.value.style.overflow="hidden"},P=u=>{s.value=u};return J(()=>{x.getUserProblems()}),(u,d)=>{const k=b("CaretLeft"),w=b("el-icon"),L=b("el-button");return m(),y("div",ft,[e("div",{class:"underLeft",ref_key:"underLeft",ref:h},[e("div",ht,[e("div",null,[t(w,{onClick:C,style:{"margin-left":"0.42vw"}},{default:c(()=>[t(k)]),_:1})]),yt,e("div",{style:{"margin-left":"4.4vw",color:"#979797"},onClick:d[0]||(d[0]=(...$)=>u.resetChecked&&u.resetChecked(...$))},"重置")]),e("div",{style:{display:"flex","margin-left":"1.52vw","margin-top":"1vh","margin-bottom":"1vh","font-weight":"600","font-size":"0.9vw"}},[e("div",{style:{"margin-right":"0.8vw",color:"#6666ff"},onClick:g,id:"know"}," 知识点生成 "),p(" | "),e("div",{style:{"margin-left":"0.9vw"},id:"text",onClick:l},"教材生成")]),t(de)],512),e("div",bt,[e("div",gt,[e("div",wt,[e("div",Ct,[t(L,{onClick:d[1]||(d[1]=$=>P("problems")),text:"",class:"b1"},{default:c(()=>[p("已生成题目")]),_:1}),E(e("div",null,null,512),[[B,s.value==="problems"]])]),e("div",kt,[t(L,{onClick:d[2]||(d[2]=$=>P("test")),text:"",class:"b2"},{default:c(()=>[p("组成试卷")]),_:1}),E(e("div",null,null,512),[[B,s.value==="test"]])])])]),e("div",$t,[(m(),K(ce(s.value==="problems"?mt:pt)))])])])}}},Lt=z(St,[["__scopeId","data-v-75658987"]]);export{Lt as default};
