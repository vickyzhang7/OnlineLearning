import{v as z,r as d,M as W,c as y,d as n,i as Q,B as E,C as M,h as e,f as t,A as R,g as r,j as v,L as D,T as se,N as le,E as A,G as F,H as q,o as K,e as c,t as w,F as T,z as H,O as oe,P as ne,b as ae,q as O,J as ie,Q as ce,R as de}from"./index-d47c4458.js";import{_ as re}from"./LeftTopic-8ca22d94.js";import{_ as Y}from"./_plugin-vue_export-helper-c27b6911.js";const V=i=>(F("data-v-58feef75"),i=i(),q(),i),ue=["onClick"],_e={class:"content"},pe=V(()=>e("p",{class:"title"},"新建试题卷",-1)),me={class:"item1"},ve=V(()=>e("p",{class:"item-title"},"试卷类型",-1)),he={class:"item1-container"},fe=V(()=>e("p",null,"类型一期末考试",-1)),be={class:"item1-item item1-item1"},ye=V(()=>e("span",null,null,-1)),ge=V(()=>e("div",null,[e("p",null,"类型二期中考试"),e("div",{class:"item1-item item1-item2"})],-1)),$e=V(()=>e("div",null,[e("p",null,"类型三自定义"),e("div",{class:"item1-item item1-item3"})],-1)),Ce={class:"item2"},we=V(()=>e("p",{class:"item-title"},"试卷抬头设置",-1)),ke={class:"item3"},Se=V(()=>e("p",{class:"item-title"},"抬头样式",-1)),xe={class:"item3-container"},Ve=V(()=>e("p",null,"居中",-1)),Pe=[Ve],Le=V(()=>e("p",null,"左对齐",-1)),Te=[Le],He={__name:"AddProblemSet",props:["isShow"],setup(i,{emit:k}){const s=z(),h=d(),u=i,f=d(1),p=d(""),o=d("");W(()=>f.value+"");const b=k,U=()=>{b("update:isShow",!1)},S=x=>{o.value=x},P=async()=>{try{const x=await le({format:o.value,title:p.value});A.success("添加题集成功！")}catch(x){A.error("添加题集失败！",x.msg)}finally{s.getUserProblemSetList(),b("update:isShow",!1)}};return(x,g)=>{const B=y("el-slider"),N=y("el-input"),m=y("el-button");return n(),Q(se,{to:"body"},[E(e("div",{class:"container",onClick:D(U,["self"])},[e("div",_e,[pe,e("div",me,[ve,e("div",he,[e("div",null,[fe,e("div",be,[e("div",null,[ye,t(B,{ref_key:"silder",ref:h,modelValue:f.value,"onUpdate:modelValue":g[0]||(g[0]=_=>f.value=_)},null,8,["modelValue"])])])]),ge,$e])]),e("div",Ce,[we,t(N,{modelValue:p.value,"onUpdate:modelValue":g[1]||(g[1]=_=>p.value=_),placeholder:"例：成都七中初二年级期中考试"},null,8,["modelValue"])]),e("div",ke,[Se,e("div",xe,[e("div",{class:R(["item3-item",{active:o.value==="CENTER"}]),onClick:g[2]||(g[2]=_=>S("CENTER"))},Pe,2),e("div",{class:R(["item3-item",{active:o.value==="LEFT_ALIGN"}]),onClick:g[3]||(g[3]=_=>S("LEFT_ALIGN"))},Te,2)])]),t(m,{onClick:P,class:"btn"},{default:r(()=>[v("确认")]),_:1})])],8,ue),[[M,u.isShow]])])}}},Ne=Y(He,[["__scopeId","data-v-58feef75"]]);const X=i=>(F("data-v-0b53b4c7"),i=i(),q(),i),Ie={class:"container"},Ae={style:{display:"flex"}},De={class:"tiem-content"},Ee=X(()=>e("span",{style:{position:"absolute",right:"2vw"}},[e("svg",{width:"14",height:"9",viewBox:"0 0 14 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{opacity:"0.4",d:"M6.97125 9L0.0688964 0.333333L13.8736 0.333334L6.97125 9Z",fill:"#25313D"})])],-1)),Me=["onClick"],Ue={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Be=["fill"],Ze={class:"tiem-content"},Re=X(()=>e("span",{style:{position:"absolute",right:"2vw"}},[e("svg",{width:"14",height:"9",viewBox:"0 0 14 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{opacity:"0.4",d:"M6.97125 9L0.0688964 0.333333L13.8736 0.333334L6.97125 9Z",fill:"#25313D"})])],-1)),ze={__name:"ProblemTopSelect",setup(i){const k=z(),s=d(0),h=d(),u=d(!1),f=d([]),p={0:"不限",7:"近7天",15:"近十五天"},o=d({time:null,type:null,questionType:null,recentDay:null,showAnalysis:!0}),b=l=>l.getTime()>Date.now(),U=d(),S=d(),P=d(!1),x=()=>{P.value?(S.value.style.display="none",P.value=!1):(S.value.style.display="flex",P.value=!0)},g=()=>{u.value=!u.value},B=l=>{o.value.showAnalysis=l,I()},N=l=>{s.value=l,I(),S.value.style.display="none",P.value=!1,console.log(s.value)},m=()=>{U.value.focus()},_=()=>{I(),S.value.style.display="none",P.value=!1},I=()=>{k.getSearchUserProblems({genre:o.value.type,recentDays:p[s.value]?s.value:null,date:p[s.value]?null:s.value,showAnalysis:o.value.showAnalysis,topicList:null})},L=async()=>{const l=await oe("English");f.value=l.data.data};return K(()=>{L()}),(l,a)=>{const $=y("el-date-picker"),Z=y("el-form-item"),j=y("el-radio"),J=y("el-radio-group"),te=y("el-form");return n(),c("div",Ie,[t(te,{model:o.value,ref:"formRef",onChange:I},{default:r(()=>[e("div",Ae,[t(Z,{prop:"time",label:"生成时间："},{default:r(()=>[e("div",{class:"time-select",onClick:x},[e("p",De,[e("span",null,w(p[s.value]||s.value),1),Ee]),e("div",{class:"select-item",ref_key:"selectItem",ref:S},[e("p",{class:R(["item-p p1",{active:s.value===0}]),onClick:a[0]||(a[0]=D(C=>N(0),["stop"]))}," 不限 ",2),e("p",{class:R(["item-p p2",{active:s.value===7}]),onClick:a[1]||(a[1]=D(C=>N(7),["stop"]))}," 近7天 ",2),e("p",{class:R(["item-p p2",{active:s.value===15}]),onClick:a[2]||(a[2]=D(C=>N(15),["stop"]))}," 近15天 ",2),e("p",{class:"item-p p3",onClick:D(m,["stop"])},[(n(),c("svg",Ue,[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.5385 5H6.46154C5.10207 5 4 6.04467 4 7.33333V16.6667C4 17.9553 5.10207 19 6.46154 19H17.5385C18.8979 19 20 17.9553 20 16.6667V7.33333C20 6.04467 18.8979 5 17.5385 5ZM12 12H13V14H12V12ZM15 12H16V14H15V12ZM18.6272 17.6653C18.8659 17.4509 19 17.1602 19 16.8571V10H5V16.8571C5 17.1602 5.13409 17.4509 5.37277 17.6653C5.61146 17.8796 5.93518 18 6.27273 18H17.7273C18.0648 18 18.3885 17.8796 18.6272 17.6653ZM19 9H5V7C5 6.73478 5.13409 6.48043 5.37277 6.29289C5.61146 6.10536 5.93518 6 6.27273 6H17.7273C18.0648 6 18.3885 6.10536 18.6272 6.29289C18.8659 6.48043 19 6.73478 19 7V9ZM8 12H9V14H8V12Z",fill:p[s.value]?"#A6A6A6":"#000"},null,8,Be)])),t($,{ref_key:"datePicker",ref:U,onChange:_,modelValue:s.value,"onUpdate:modelValue":a[3]||(a[3]=C=>s.value=C),type:"date","disabled-date":b,class:"timnePickCSS","value-format":"YYYY-MM-DD","popper-class":"date_form"},null,8,["modelValue"])],8,Me)],512)])]),_:1}),t(Z,{prop:"time",label:"展示分析："},{default:r(()=>[e("div",{class:"analysis-select",onClick:g},[e("p",Ze,[e("span",null,w(o.value.showAnalysis?"是":"否"),1),Re]),E(e("div",{class:"analysis-select-item",ref_key:"analysisSelectItem",ref:h},[e("p",{style:{cursor:"pointer"},onClick:a[4]||(a[4]=C=>B(!0)),class:"a-p"},"是"),e("p",{style:{cursor:"pointer"},onClick:a[5]||(a[5]=C=>B(!1)),class:"a-p"},"否")],512),[[M,u.value]])])]),_:1})]),t(Z,{prop:"type",label:"生成题型："},{default:r(()=>[t(J,{modelValue:o.value.type,"onUpdate:modelValue":a[6]||(a[6]=C=>o.value.type=C)},{default:r(()=>[(n(!0),c(T,null,H(f.value,C=>(n(),Q(j,{key:C.value,label:C.genre},null,8,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])])}}},Fe=Y(ze,[["__scopeId","data-v-0b53b4c7"]]);const G=i=>(F("data-v-4c4c0292"),i=i(),q(),i),qe={class:"container"},Ye={class:"select-container"},Ge=G(()=>e("div",{class:"split-bar"},null,-1)),je={class:"innercon"},Je={class:"problem-body"},Oe=G(()=>e("span",{class:"title"},"试题集",-1)),Qe={style:{position:"relative"}},Ke={class:"problem-p",style:{"margin-left":"1vw"}},We={key:0,class:"subProblem"},Xe={class:"problem-p"},et={class:"optionsCon"},tt={key:1,class:"optionsCon"},st={class:"problem-list"},lt=G(()=>e("span",{class:"title"},"习题集",-1)),ot={class:"list-content"},nt={class:"problem-set-title"},at={class:"problem-set-main"},it={class:"item-title"},ct={class:"item-content"},dt={style:{color:"#6666ff"}},rt=G(()=>e("div",{class:"split"},null,-1)),ut={class:"control"},_t={class:"btns"},pt={class:"btns"},mt={class:"problem-set-select"},vt=["onClick"],ht={__name:"Problems",setup(i){ne(m=>({"7994916a":k.value})),ae();const k=W(()=>"-"+o.problemSetList.length*3+"vh"),s=d(!1),h=d(!1),u=d(!1),f={1:"一",2:"二",3:"三",4:"四",5:"五"},p=[{id:1,title:"填空",currentNum:10,maxNum:15},{id:2,title:"写作",currentNum:1,maxNum:2},{id:3,title:"听力",currentNum:10,maxNum:15},{id:4,title:"阅读",currentNum:3,maxNum:4},{id:5,title:"完形",currentNum:3,maxNum:4}];d({time:null,type:null,questionType:null,recentDay:null,showAnalysis:!0});const o=z();let b=[];const U=(m,_)=>m+1+"."+_,S=()=>{b=[],o.userProblemList.forEach(m=>{m.isSelet&&b.push(m.data.problemId)}),console.log(o.userProblemList),console.log(b),b.length?u.value=!0:A.error("请选择题目！")},P=()=>{try{b.forEach(async m=>{const _=await ie(m);console.log(_.data),A.success("删除成功！"),o.getUserProblems()})}catch(m){A.error("删除失败！",m)}finally{u.value=!1}},x=()=>{s.value=!s.value},g=()=>{o.getUserProblems()},B=()=>{h.value=!h.value},N=m=>{try{b.forEach(async _=>{const I=await ce({problemId:_,problemSetSeqNum:m});A.success("添加成功！")})}catch{A.error("删除失败！")}finally{h.value=!1}};return K(()=>{g()}),(m,_)=>{const I=y("el-checkbox"),L=y("el-button");return n(),c("div",qe,[e("div",Ye,[t(Fe),Ge]),e("div",je,[e("div",Je,[Oe,(n(!0),c(T,null,H(O(o).userProblemList,(l,a)=>(n(),c("div",{class:"itemCon",key:l.data.problemId},[e("div",Qe,[t(I,{style:{position:"absolute",top:"-0.2vh"},modelValue:l.isSelet,"onUpdate:modelValue":$=>l.isSelet=$},null,8,["modelValue","onUpdate:modelValue"]),e("p",Ke,w(U(a,l.data.body)),1)]),l.data.subProblemList?(n(),c("div",We,[(n(!0),c(T,null,H(l.data.subProblemList,($,Z)=>(n(),c("div",{key:Z},[e("p",Xe,w($.body),1),e("div",et,[(n(!0),c(T,null,H($.options,(j,J)=>(n(),c("p",{key:J},w(j),1))),128))])]))),128))])):(n(),c("div",tt,[(n(!0),c(T,null,H(l.data.options,$=>(n(),c("p",{class:"options-item",key:$},w($),1))),128))]))]))),128))]),e("div",st,[lt,e("div",ot,[t(L,{onClick:B,class:"newlist"},{default:r(()=>[v("新建试题集")]),_:1}),(n(!0),c(T,null,H(O(o).problemSetList,l=>(n(),c("div",{class:"problem-set-content",key:l.problemSetId},[e("p",nt,"题集："+w(l.problemSetId),1),e("div",at,[(n(),c(T,null,H(p,(a,$)=>e("div",{class:"main-item",key:a.id},[e("div",it,w(a.title),1),e("div",ct,[v(" ("),e("span",dt,w(a.currentNum),1),v("/"+w(a.maxNum)+") ",1)])])),64)),t(L,{class:"main-item-btn"},{default:r(()=>[v("查看")]),_:1})])]))),128))]),rt])]),e("div",ut,[E(e("div",_t,[t(L,{round:"",class:"set-other-btn2",onClick:S},{default:r(()=>[v("批量处理")]),_:1}),t(L,{round:"",class:"set-other-btn2",onClick:x},{default:r(()=>[v("习题封装")]),_:1})],512),[[M,!u.value]]),E(e("div",pt,[t(L,{class:"set-other-btn1",onClick:P},{default:r(()=>[v(" 删除 ")]),_:1}),t(L,{class:"set-other-btn1",onClick:_[0]||(_[0]=l=>u.value=!1)},{default:r(()=>[v(" 取消 ")]),_:1}),t(L,{class:"set-other-btn1",onClick:D(x,["stop"])},{default:r(()=>[v(" 编入题集 ")]),_:1},8,["onClick"]),E(e("div",mt,[(n(!0),c(T,null,H(O(o).problemSetList,(l,a)=>(n(),c("p",{class:"select-item",key:l,onClick:D($=>N(l),["stop"])}," 题集"+w(f[a+1]),9,vt))),128))],512),[[M,s.value]])],512),[[M,u.value]])]),t(Ne,{isShow:h.value,"onUpdate:isShow":_[1]||(_[1]=l=>h.value=l)},null,8,["isShow"])])}}},ft=Y(ht,[["__scopeId","data-v-4c4c0292"]]),bt={__name:"ProblemsTest",setup(i){const k=d();return(s,h)=>{const u=y("el-option"),f=y("el-select");return n(),c("div",null,[t(f,{modelValue:k.value,"onUpdate:modelValue":h[0]||(h[0]=p=>k.value=p),class:"m-2",placeholder:"Select",size:"small"},{default:r(()=>[t(u,null,{default:r(()=>[v("1")]),_:1}),t(u,null,{default:r(()=>[v("1")]),_:1}),t(u,null,{default:r(()=>[v("1")]),_:1}),t(u,null,{default:r(()=>[v("1")]),_:1})]),_:1},8,["modelValue"])])}}};const ee=i=>(F("data-v-145d76fa"),i=i(),q(),i),yt={class:"under"},gt=ee(()=>e("div",{style:{"margin-top":"1vh",display:"flex","align-items":"center","line-height":"1.1vh","font-size":"0.9vw"}},null,-1)),$t=ee(()=>e("div",{style:{display:"flex","margin-left":"1.52vw","margin-top":"1vh","margin-bottom":"1vh","font-weight":"600","font-size":"0.9vw"}},null,-1)),Ct={class:"underRight"},wt={class:"change-com"},kt={class:"btns"},St={class:"btn1"},xt={class:"btn2"},Vt={class:"content"},Pt={__name:"personalTopic",setup(i){const k=z(),s=d("problems");d(!0),d(!1);const h=d(),u=f=>{s.value=f};return K(()=>{k.getUserProblems()}),(f,p)=>{const o=y("el-button");return n(),c("div",yt,[e("div",{class:"underLeft",ref_key:"underLeft",ref:h},[gt,$t,t(re)],512),e("div",Ct,[e("div",wt,[e("div",kt,[e("div",St,[t(o,{onClick:p[0]||(p[0]=b=>u("problems")),text:"",class:"b1"},{default:r(()=>[v("已生成题目")]),_:1}),E(e("div",null,null,512),[[M,s.value==="problems"]])]),e("div",xt,[t(o,{onClick:p[1]||(p[1]=b=>u("test")),text:"",class:"b2"},{default:r(()=>[v("组成试卷")]),_:1}),E(e("div",null,null,512),[[M,s.value==="test"]])])])]),e("div",Vt,[(n(),Q(de(s.value==="problems"?ft:bt)))])])])}}},Nt=Y(Pt,[["__scopeId","data-v-145d76fa"]]);export{Nt as default};
