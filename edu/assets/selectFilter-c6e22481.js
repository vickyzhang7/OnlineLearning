import{r as m,v as E,o as Z,c as w,x as O,y as X,z as J,h as e,f as t,g as l,d as a,e as c,F as C,A as x,i as U,j as _,t as S,q as r,B as K,k as z,C as Y,D as ee,G as A,H,I as j}from"./index-f73d2c15.js";import{_ as le}from"./LeftTopic-dda1f9f8.js";import{_ as te}from"./_plugin-vue_export-helper-c27b6911.js";const oe="/assets/position-9a305773.svg",se="/assets/grade-cd662436.svg",ae="/assets/volume-ad3e5f7d.svg",ne="/assets/subject-056a070e.svg",ie="/assets/version-21a63c9f.svg",de="/assets/addButton-e6b62d34.svg",ue="/assets/addLargeButton-ef7f2ee9.svg",re="/assets/switch-6bf66cb9.svg",ce="/assets/lockbag-59256813.svg";const ve={style:{"padding-top":"1vh","padding-bottom":"1vh",display:"flex","align-items":"center","line-height":"1.1vh","font-size":"0.9vw"}},_e=e("div",{style:{"font-weight":"600","margin-left":"0.2vw"}},"基础筛选",-1),pe={__name:"RightTopTopic",setup(b,{emit:i}){const u=i,s=m({question:"",difficulty:"",time:"",scope:""}),f=m({questionType:""}),P={questionType:[{required:!0,message:"请选择题目具体类型",trigger:"change"}]},L=m([]),B=m(),I=m(),T={question:[{required:!0,message:"请选择题目类型",trigger:"change"}],difficulty:[{required:!0,message:"请选择难度",trigger:"change"}],time:[{required:!0,message:"请选择完成时间",trigger:"change"}],scope:[{required:!0,message:"请选择考核范围",trigger:"change"}]},q=E(),p=async()=>{await B.value.validate(),q.getChecked(s.value.question,f.value.questionType,s.value.difficulty,s.value.time.split(",").map(y=>+y),s.value.scope)},k=async()=>{const y=await X("English"),h=await J("range");L.value=h.data.data,I.value=y.data.data},n=()=>{u("hiddenEvent")};return Z(()=>k()),(y,h)=>{const g=w("CaretLeft"),D=w("el-icon"),V=w("el-radio"),F=w("el-radio-group"),G=w("el-form"),d=w("el-popover"),$=w("el-form-item");return O(y.$slots,"default",{},()=>[e("div",ve,[e("div",null,[t(D,{onClick:n,style:{"margin-left":"0.42vw"}},{default:l(()=>[t(g)]),_:1})]),_e]),t(G,{model:s.value,rules:T,ref_key:"formRef",ref:B,onChange:p},{default:l(()=>[t($,{prop:"question",label:"题型类型："},{default:l(()=>[t(F,{modelValue:s.value.question,"onUpdate:modelValue":h[1]||(h[1]=v=>s.value.question=v)},{default:l(()=>[(a(!0),c(C,null,x(I.value,v=>(a(),U(V,{key:v.value,label:v.genre},{default:l(()=>[t(d,{placement:"bottom",trigger:"click",width:"auto","popper-class":"popoverStyle"},{reference:l(()=>[_(S(v.genre),1)]),default:l(()=>[t(G,{model:f.value,rules:P},{default:l(()=>[t(F,{modelValue:f.value.questionType,"onUpdate:modelValue":h[0]||(h[0]=R=>f.value.questionType=R)},{default:l(()=>[(a(!0),c(C,null,x(v.typeNameList,R=>(a(),U(V,{key:R.value,label:R,onChange:p},{default:l(()=>[_(S(R),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue"])]),_:2},1032,["model"])]),_:2},1024)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),t($,{prop:"difficulty",label:"难度选择："},{default:l(()=>[t(F,{modelValue:s.value.difficulty,"onUpdate:modelValue":h[2]||(h[2]=v=>s.value.difficulty=v)},{default:l(()=>[t(F,{label:"0"},{default:l(()=>[_("不限")]),_:1}),t(V,{label:"1"},{default:l(()=>[_("容易")]),_:1}),t(V,{label:"2"},{default:l(()=>[_("较易")]),_:1}),t(V,{label:"3"},{default:l(()=>[_("适中")]),_:1}),t(V,{label:"4"},{default:l(()=>[_("较难")]),_:1}),t(V,{label:"5"},{default:l(()=>[_("困难")]),_:1})]),_:1},8,["modelValue"])]),_:1}),t($,{prop:"time",label:"完成时间："},{default:l(()=>[t(F,{modelValue:s.value.time,"onUpdate:modelValue":h[3]||(h[3]=v=>s.value.time=v)},{default:l(()=>[t(V,{label:"1, 3"},{default:l(()=>[_("1~3分钟")]),_:1}),t(V,{label:"3, 5"},{default:l(()=>[_("3~5分钟")]),_:1}),t(V,{label:"5, 10"},{default:l(()=>[_("5~10分钟")]),_:1})]),_:1},8,["modelValue"])]),_:1}),t($,{prop:"scope",label:"考核范围："},{default:l(()=>[t(F,{modelValue:s.value.scope,"onUpdate:modelValue":h[4]||(h[4]=v=>s.value.scope=v)},{default:l(()=>[(a(!0),c(C,null,x(L.value,v=>(a(),U(V,{key:v.value,label:v.value},{default:l(()=>[_(S(v.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])])}}},ge="/assets/loaddingImg-d826fe6b.svg";function me(b){return{all:b=b||new Map,on:function(i,u){var s=b.get(i);s?s.push(u):b.set(i,[u])},off:function(i,u){var s=b.get(i);s&&(u?s.splice(s.indexOf(u)>>>0,1):b.set(i,[]))},emit:function(i,u){var s=b.get(i);s&&s.slice().map(function(f){f(u)}),(s=b.get("*"))&&s.slice().map(function(f){f(i,u)})}}}const M=me();const fe={style:{"margin-top":"10.7vh","text-align":"center"}},he={key:0,class:"mt-4 searchGen"},be={key:1,class:"loadding-img"},ye=e("img",{src:ge,style:{width:"16.7vw",height:"17vh"}},null,-1),we=e("div",{class:"loadding-content"},[e("p",null,"生成中...")],-1),Ce=[ye,we],ke=e("div",{class:"dialog-content"},[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24ZM12.3197 5C13.0378 5 13.62 5.56281 13.62 6.3003C13.62 7.05719 13.0378 7.62 12.3197 7.62C11.5822 7.62 11 7.05719 11 6.3003C11 5.56281 11.5822 5 12.3197 5ZM11.3215 18.9077V9.45629C11.3215 8.95169 11.7752 8.6994 12.2729 8.6994C12.7527 8.6994 13.2243 8.95169 13.2243 9.45629V18.9077C13.2243 19.4317 12.7527 19.684 12.2729 19.684C11.7752 19.684 11.3215 19.4317 11.3215 18.9077Z",fill:"#6666FF"})]),e("span",null,"生成中")],-1),Ve=e("p",{class:"dialog-p"},"点击右上角符号进行多项业务同步生成同时查看同步生成的所有业务",-1),$e=e("div",{class:"bar"},null,-1),xe={class:"dialog-footer"},Le={__name:"RightUnderTopic",setup(b){const i=E(),u=m(5);let s=m(0);const f=m(),P=m(),L=m(!0),B=()=>{i.isLoading?(i.generateProblemCancel(),window.cancelAnimationFrame(s.value)):(i.isLarge=!0,i.generateClick(P.value),u.value=5,T())},I=()=>{i.isLarge=!1},T=()=>{s.value=window.requestAnimationFrame(function q(){u.value<32?(u.value+=.005,f.value.style.width=u.value+"vw",s.value=requestAnimationFrame(q)):(u.value=32,window.cancelAnimationFrame(s.value))})};return M.on("progress",T()),(q,p)=>{const k=w("el-tag"),n=w("el-button"),y=w("el-input"),h=w("el-dialog");return O(q.$slots,"default",{},()=>[e("div",fe,[(a(!0),c(C,null,x(r(i).checkedArr,g=>(a(),U(k,{key:g,class:"mx-1 tagStyle",closable:"","disable-transitions":!1,onClose:D=>r(i).handleClose(g),type:"info"},{default:l(()=>[_(S(g),1)]),_:2},1032,["onClose"]))),128)),(a(!0),c(C,null,x(r(i).checkedArr1,g=>(a(),U(k,{key:g,class:"mx-1 tagStyle",closable:"","disable-transitions":!1,onClose:D=>r(i).handleClose1(g),type:"info"},{default:l(()=>[_(S(g),1)]),_:2},1032,["onClose"]))),128))]),L.value?(a(),c("div",he,[t(y,{modelValue:P.value,"onUpdate:modelValue":p[0]||(p[0]=g=>P.value=g),placeholder:"请输入生成题目的关键词",class:"inputGen"},{append:l(()=>[t(n,{class:"buttonSet",onClick:B},{default:l(()=>[_(S(r(i).isLoading?"取消生成":"开始生成"),1)]),_:1}),e("div",{class:K(["loaddingCon",{hiddenf:!r(i).isLoading}])},[e("div",{ref_key:"loaddingBar",ref:f,class:"loadding"},null,512)],2)]),_:1},8,["modelValue"])])):z("",!0),r(i).isLoading?(a(),c("div",be,Ce)):z("",!0),t(h,{modal:!1,modelValue:r(i).dialogVisible,"onUpdate:modelValue":p[3]||(p[3]=g=>r(i).dialogVisible=g),width:"20.8vw","before-close":I,top:"55vh",class:"dialogSet"},{footer:l(()=>[e("span",xe,[t(n,{class:"set-other-btn2",onClick:p[1]||(p[1]=g=>r(i).setDialogVisibleFlase())},{default:l(()=>[_("在当前生成页面等待")]),_:1}),t(n,{class:"set-other-btn1",onClick:p[2]||(p[2]=g=>r(i).setDialogVisibleFlase())},{default:l(()=>[_("同步生成")]),_:1})])]),default:l(()=>[ke,Ve,$e]),_:1},8,["modelValue"])])}}};const Q=b=>(Y("data-v-16742cbd"),b=b(),ee(),b),Se={class:"container"},Pe={class:"innercon"},Ie={class:"problem-body"},Te=Q(()=>e("svg",{width:"9",height:"10",viewBox:"0 0 9 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"svvg"},[e("circle",{cx:"4.5",cy:"5",r:"4.5",fill:"#BDCEFC"})],-1)),qe={class:"problem-p"},Ge={key:0,class:"subProblem"},Ue={class:"problem-p"},Be={class:"optionsCon"},Fe={key:1,class:"optionsCon"},Re={class:"item-btns"},De=Q(()=>e("div",{class:"problem-analysis"},[e("div",{class:"split"})],-1)),Ae={class:"control"},He={class:"btns"},Ee={__name:"ProblemShow",setup(b,{emit:i}){const u=E(),s=["一","二","三","四","五"],f=m(!0),P=(T,q)=>T+1+"."+q,L=()=>{u.regenerate(),M.emit("progress"),M.emit("tip",f.value)},B=()=>{u.isShow=!u.isShow,u.totalGenerationProblem.splice(currentItem,1),u.currentItem=0,console.log(u.totalGenerationProblem)},I=T=>{u.addUserProblems(T)};return(T,q)=>{const p=w("el-button");return a(),c("div",Se,[e("div",Pe,[e("div",Ie,[(a(!0),c(C,null,x(r(u).totalGenerationProblem[r(u).currentItem].dataVO,(k,n)=>(a(),c("div",{class:"itemCon",key:k.problemId},[e("span",null,[Te,_(" 生成结果"+S(s[n]),1)]),e("p",qe,S(P(n,k.body)),1),k.subProblemList?(a(),c("div",Ge,[(a(!0),c(C,null,x(k.subProblemList,(y,h)=>(a(),c("div",null,[e("p",Ue,S(y.body),1),e("div",Be,[(a(!0),c(C,null,x(y.options,g=>(a(),c("p",{key:g},S(g),1))),128))])]))),256))])):(a(),c("div",Fe,[(a(!0),c(C,null,x(k.options,y=>(a(),c("p",{key:y},S(y),1))),128))])),e("div",Re,[t(p,{text:"",class:"btn1"},{default:l(()=>[_("纠错")]),_:1}),t(p,{text:"",class:"btn2",onClick:y=>I(k.problemId)},{default:l(()=>[_("加入题库")]),_:2},1032,["onClick"])])]))),128))]),De]),e("div",Ae,[e("div",He,[t(p,{round:"",class:"set-other-btn1",onClick:L},{default:l(()=>[_("重新生成")]),_:1}),t(p,{round:"",class:"set-other-btn2",onClick:B},{default:l(()=>[_("取消生成")]),_:1})])])])}}},je=te(Ee,[["__scopeId","data-v-16742cbd"]]);const Me={class:"selectAll"},Ne={class:"content"},ze=e("img",{src:oe,style:{width:"1.93vw",height:"2.92vh"}},null,-1),Ze={class:"content"},Oe=e("img",{src:se,style:{width:"2.07vw",height:"2.93vh"}},null,-1),Je={class:"content"},Ke=e("img",{src:ae,style:{width:"1.84vw",height:"2.89vh"}},null,-1),Qe={class:"content"},We=e("img",{src:ne,style:{width:"1.92vw",height:"3vh"}},null,-1),Xe={class:"content"},Ye=e("img",{src:ie,style:{width:"1.92vw",height:"2.79vh"}},null,-1),el={class:"addButton"},ll=e("img",{src:ue,style:{width:"5.2vw",height:"9.2vh"}},null,-1),tl=[ll],ol={class:"first-show"},sl={class:"else-show"},al=["onClick"],nl={class:"under"},il={class:"underRight"},dl={class:"underRight2"},ul={style:{"padding-top":"1vh",display:"flex","align-items":"center","line-height":"1.1vh","font-size":"0.9vw"}},rl=e("div",{style:{"font-weight":"600","margin-left":"0.2vw"}},"生成题目",-1),cl=e("div",null,[e("img",{src:re,style:{position:"absolute",right:"1vw",top:"1vh"}})],-1),vl=e("img",{class:"dragImg",draggable:"true",src:ce,alt:""},null,-1),fl={__name:"selectFilter",setup(b){const i=m(""),u=m(""),s=m(""),f=m(""),P=m(""),L=m(!1),B=["region","subject","textbook"],I=m({}),T=[{value1:1,label1:"一年级"},{value1:2,label1:"二年级"},{value1:3,label1:"三年级"},{value1:4,label1:"四年级"},{value1:5,label1:"五年级"},{value1:6,label1:"六年级"},{value1:7,label1:"初一"},{value1:8,label1:"初二"},{value1:9,label1:"初三"},{value1:10,label1:"高一"},{value1:11,label1:"高二"},{value1:12,label1:"高三"}],q=[{value2:"上册",label2:"上册"},{value2:"下册",label2:"下册"}],p=m(),k=m(),n=E(),y=()=>{B.forEach(async G=>{const d=await J(G);I.value[G]=d.data.data})},h=()=>{p.value.style.width=0,p.value.style.margin=0,p.value.style.overflow="hidden"},g=()=>{k.value.style.height=0,k.value.style.overflow="hidden"},D=()=>{L.value=!L.value},V=G=>{G?(n.isLoading&&(n.isLoading=!1),n.isShow=!0,L.value=!1):(n.isShow&&(n.isShow=!1),L.value=!1)},F=G=>{n.isShow=!1;let d=n.totalGenerationProblem.length;for(let $=0;$<d;$++)if(n.totalGenerationProblem[$].generateId===G){n.currentItem=$;break}};return Z(()=>{y()}),(G,d)=>{var N;const $=w("el-option"),v=w("el-select"),R=w("CaretLeft"),W=w("el-icon");return a(),c(C,null,[e("div",Me,[e("div",Ne,[ze,t(v,{modelValue:i.value,"onUpdate:modelValue":d[0]||(d[0]=o=>i.value=o),onChange:d[1]||(d[1]=o=>r(n).getRegion(i.value)),class:"m-2 select1",placeholder:"请选择地点"},{default:l(()=>[(a(!0),c(C,null,x(I.value.region,o=>(a(),U($,{key:o.value,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("div",Ze,[Oe,t(v,{modelValue:u.value,"onUpdate:modelValue":d[2]||(d[2]=o=>u.value=o),onChange:d[3]||(d[3]=o=>r(n).getGrade(u.value)),class:"m-2 select1",placeholder:"请选择年级"},{default:l(()=>[(a(),c(C,null,x(T,o=>t($,{key:o.value1,label:o.label1,value:o.value1},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),e("div",Je,[Ke,t(v,{modelValue:s.value,"onUpdate:modelValue":d[4]||(d[4]=o=>s.value=o),class:"m-2 select1",placeholder:"请选择上下册",onChange:d[5]||(d[5]=o=>r(n).getGenre(s.value))},{default:l(()=>[(a(),c(C,null,x(q,o=>t($,{key:o.value2,label:o.label2,value:o.value2},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),e("div",Qe,[We,t(v,{modelValue:f.value,"onUpdate:modelValue":d[6]||(d[6]=o=>f.value=o),onChange:d[7]||(d[7]=o=>r(n).getSubject(f.value)),class:"m-2 select1",placeholder:"请选择学科"},{default:l(()=>[(a(!0),c(C,null,x(I.value.subject,o=>(a(),U($,{key:o.value,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("div",Xe,[Ye,t(v,{modelValue:P.value,"onUpdate:modelValue":d[8]||(d[8]=o=>P.value=o),onChange:d[9]||(d[9]=o=>r(n).getTextbook(P.value)),class:"m-2 select1",placeholder:"请选择教材版本"},{default:l(()=>[(a(!0),c(C,null,x(I.value.textbook,o=>(a(),U($,{key:o.value,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e("div",el,[A(e("img",{onClick:D,src:de,style:{width:"2.08vw",height:"3.7vh"}},null,512),[[H,!r(n).isLoading]]),A(e("div",{class:"addLarge",onClick:D},tl,512),[[H,r(n).isLoading]]),e("div",null,[A(e("div",ol,[e("p",{class:"first-show-item active",onClick:d[10]||(d[10]=j(o=>V(""),["stop"]))},S((N=r(n).totalGenerationProblem[0])==null?void 0:N.title),1),e("p",{class:"first-show-item",onClick:d[11]||(d[11]=j(o=>V("add"),["stop"]))},"新增生成页面")],512),[[H,L.value&&r(n).totalGenerationProblem.length===1]]),A(e("div",sl,[(a(!0),c(C,null,x(r(n).totalGenerationProblem,o=>(a(),c("p",{class:K(["else-show-item",{active:r(n).totalGenerationProblem[r(n).currentItem].generateId===o.generateId}]),key:o.generateId,onClick:_l=>F(o.generateId)},S(o.title),11,al))),128)),A(e("p",{class:"else-show-item",onClick:d[12]||(d[12]=j(o=>V("add"),["stop"]))},"新增生成页面",512),[[H,r(n).totalGenerationProblem.length<5]])],512),[[H,L.value&&r(n).totalGenerationProblem.length>1]])])])]),e("div",nl,[e("div",{class:"underLeft",ref_key:"underLeft",ref:p},[t(le,{onHiddenEventL:h})],512),e("div",il,[e("div",{class:"underRight1",ref_key:"rightTop",ref:k},[t(pe,{onHiddenEvent:g})],512),e("div",dl,[e("div",ul,[e("div",null,[t(W,{style:{"margin-left":"0.42vw"}},{default:l(()=>[t(R)]),_:1})]),rl,cl]),r(n).isShow?(a(),U(Le,{key:0})):(a(),U(je,{key:1}))]),vl])])],64)}}};export{fl as default};
